<!DOCTYPE html>
<html lang="en">
<head>
  <title>
    ProspectZen
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <link rel="icon" href="/assets/favicon.ico" type="image/x-icon">
  <link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon">
  <link href="/assets/bootstrap.css" rel="stylesheet">
  <link href="/assets/reset.css" rel="stylesheet">
  <link href="/assets/stylepage2_test.css" rel="stylesheet">
  <style>
      #ascrail2000{
          visibility:hidden;
      }
      #myModal{
          overflow-y:hidden;
      }
      #qualify_search{
          height: 41px;
          font-family: latolig;
          font-size: 19px;
          background: #5cb85c;
          color: #fff;
          border-radius: 0px;
          border: 2px solid #5cb85c;
          width:100px;

      }
      #search_bar span{
          position: absolute;
          top: 4px;
          right: 2px;
      }
      #qualify_search:hover {
          background: #fff;
          color: #5cb85c;
          border: 2px solid #5cb85c;
      }
      #search_error{
          visibility:hidden;
      }
      .dtext_media{
          width:390px;
      }
   

  </style>

  <link href="/assets/mediaqueriespage2_test.css" rel="stylesheet">
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
  <script src="/assets/jquery.js">
  </script>
  <script src="/assets/bootstrap.js">
  </script>
  <script src="/assets/jquery.nicescroll.js">
  </script>





  <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&libraries=places"></script>
  <script src="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/infobubble/src/infobubble.js"></script>

  <!-- <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script> -->
  <!-- <script src="//www.google.com/jsapi?key=595146919660-rou65rsr0k1efgse3kgflrt6a713h4rd.apps.googleusercontent.com" type="text/javascript"></script> -->



</head>
<body>

<div class="container" id="menu_navigation">
  <div id="bgnav" class="navbar navbar-fixed-top navbar-inverse">

    <div class="navbar-header" id="navigation">

      <button id="btn_collapse" type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">
              Toggle navigation
            </span>
            <span class="icon-bar">
            </span>
            <span class="icon-bar">
            </span>
            <span class="icon-bar">
            </span>
      </button>

      <div id="nav_search">
        <div id="logo_img">
          <a class="navlink" style="color: white;" href='/homes/viewmap'>
            <img class="brand" src="/assets/wattsun_logo.png" width="100%" alt="wattsun">
          </a>
        </div>
        <div id="search_bar">
          <input style="float:left;position:relative;" id="loc_search" class="form-control" type="text" autocomplete="on" autofocus="autofocus" jstcache="0" placeholder="Enter residential street address" >

                <span>
                    <button class="btn btn-default" type="button" id="qualify_search" onclick="qualifyclick()">Qualify</button>
                </span>
          <div style="clear:both"></div>
          <div id="search_error" style="font-family:'latoreg';padding-top:2px;color:#fff" >
            No error
          </div>
        </div>
        <div style="clear:both">
        </div>

      </div>




      <div class="collapse navbar-collapse no-transition"  id="pull_right" >
        <ul class="nav navbar-nav">

          <li id="else" class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
              What else does ProspectZen do?
              <b style="color:#fff" class="caret">
              </b>
            </a>
            <ul class="dropdown-menu">
              <li>
                <a href="#">
                  Instant Prospect Generator
                  <br />
                  Coming soon!
                </a>
              </li>
              <li>
                <a href="#">
                  Instant 3D Home
                  <br />
                  Coming soon!
                </a>
              </li>
            </ul>
          </li>
          <li id="faq">
            <a class="navlink" href="/homes/faq">
              FAQs
            </a>
          </li>

          <li id="setn" class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
              Settings
              <b style="color:#fff" class="caret">
              </b>
            </a>
            <ul class="dropdown-menu">
              <li>
                <a href="/homes/userprofile">
                  Profile
                </a>
              </li>
              <li>
                <a href="/homes/userpayment">
                  Payment
                </a>
              </li>
              <li>
                <a href="/homes/purchaseitq">
                  Purchases
                </a>
              </li>
              <li>
                <a href="/homes/userproblem">
                  Problem?
                </a>
              </li>
            </ul>
          </li>
          <li>
            <form action="../homes/logout" method="post">
              <input id="login" class="form-control" type="submit" value="Logout"/>

            </form>
          </li>

        </ul>

      </div>
      <!-- /.nav-collapse -->
      <div style="clear:both">
      </div>
    </div>
    <!-- /.nav-collapse -->


    <div style="clear:both">
    </div>
  </div>
</div>
<!--End .container-->


<div  class="modal fade bs-example-modal-lg" id="myModal" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content" style="">
      <div class="modal-header" style="min-height: 170px;border-radius:0px;border-bottom:0px;color:#fff;font-family:'latobold'">
        <h4 class="modal-title" style="text-align: center;font-family:'latoreg'">Qualify</h4>
        <h4 id="address_display_on_popup" class="modal-title" style="text-align: center;margin-bottom:18px;"></h4>
        <div style="clear:both;"></div>
        <div style="width:171px;margin:0 auto;">
          <input id="itq_qualify" class="w-button address-button apply-button btn btn-primary btn-sm" type="button" style="float: left; display: inline;margin-right:15px;background:#C0392B;" onclick="makepurchase()" value="Qualify" >
          </input>
          <input id="itq_cancel" type="submit" class="w-button address-button apply-button btn btn-primary btn-sm" data-dismiss="modal" style=" float:left;" value="Cancel" onclick="clearbox()">
          </input>
          <div style="clear:both;"></div>
        </div>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->




<div id="abc" style="position: fixed;width: 100%;">
  <div id='map-canvas'></div>
</div>



<div id="panel_container" style="position: relative; visibility:hidden">
<div id="panel_container_content">

<div id="panel_search_result">
  1234 Coit Road<br> Plano TX United States
</div>


<div id="panel_menu">

  <div id="panel_menu_content">
    <ul class="nav nav-pills">

      <li class="active" id="everything">
        <a href="#home" data-toggle="tab">
          Everything
        </a>
      </li>

      <li id="check_need_to_know2" style="display: none;">
        <a href="#needtoknow" data-toggle="tab">
          Need to Know
        </a>
      </li>


      <li id="check_electricity2" style="display: none;">
        <a href="#electricity" data-toggle="tab">
          Electricity Indicators
        </a>
      </li>


      <li id="check_show_money2" style="display: none;">
        <a href="#showmoney" data-toggle="tab">
          Show Me The Money
        </a>
      </li>


      <li id="check_ease_of_installation2" style="display: none;">
        <a href="#easeinstallation" data-toggle="tab" >
          Ease of Installation
        </a>
      </li>


      <li id="check_area_profile2" style="display: none;">
        <a href="#areaprofile" data-toggle="tab">
          Area Profile
        </a>
      </li>



      <li id="check_solar_adoption2" style="display: none;">
        <a href="#solaradoption" data-toggle="tab">
          Solar Adoption
        </a>
      </li>



      <li id="check_D_home">
        <a href="#dhome" data-toggle="tab">
          3D Home
        </a>
      </li>

    </ul>


  </div>
  <div style="clear:both">
  </div>
</div>



<div id="panel_table_content">
<!-- Tab panes -->

<div class="tab-content">

<div class="tab-pane active" id="home">


<div class="table-responsive" id="check_need_to_know1" style="display: none;">
  <table class="table">
    <caption class="capt">
      Need to Know
    </caption>

    <tr>
      <td class="left_data"><div><span data-toggle="tooltip" data-original-title="Number of solar companies that have qualified this address, updated in real time" class="tool_tips green-tooltip">No. of checks on this address</span></div></td>
      <td class="right_data"><span id='prev_checks1' data-toggle="tooltip" data-original-title="Number of solar companies that have qualified this address, updated in real time" class="tool_tips green-tooltip">  </span></td>
    </tr>

    <tr id="own1" style="display: none;">

      <td class="left_data"><div><span data-toggle="tooltip" data-original-title="Name(s) on property title" class="tool_tips green-tooltip">Name of Owner(s)</span></div></td>
      <td class="right_data"><span id='owner_name1' data-toggle="tooltip" data-original-title="Name(s) on property title" class="tool_tips green-tooltip"></span></td>

    </tr>
    <tr id="ma1" style="display: none;">

      <td class="left_data"><div><span data-toggle="tooltip" data-original-title="Contact property owner at this mailing address" class="tool_tips green-tooltip">Full Mailing Address</span></div></td>
      <td class="right_data"><span id='mailing_address1' data-toggle="tooltip" data-original-title="Contact property owner at this mailing address" class="tool_tips green-tooltip"></span></td>

    </tr>

    <tr id="oo1" style="display: none;">

      <td class="left_data"><div><span>Owner Occupied?</span></div></td>
      <td class="right_data"><span id='owner_occupied1'></span></td>

    </tr>

    <tr id="luc1" style="display: none;">
      <td class="left_data"><div><span>Property Type</span></div></td><td class="right_data"><span id='land_use_code1'></span></td>
    </tr>

    <tr id="rpcu1" style="display: none;">
      <td class="left_data"><div><span>No. of Units</span></div></td><td class="right_data"><span id='residential_per_common_units1'></span></td>
    </tr>


    <tr id="lor1" style="display: none;" >
      <td class="left_data"><div><span>How likely to relocate in 3-6 months?</span></div></td>
      <td class="right_data"><span id='likelihood_of_relocation1'>  </span></td>
    </tr>

    <tr id="lsd1" style="display: none;">
      <td class="left_data">
        <div>
          <span data-toggle="tooltip" data-original-title="Time since last property sale" class="tool_tips green-tooltip">Owned For</span>
        </div>
      </td>
      <td class="right_data">
							                      <span id='last_sale_date1' data-toggle="tooltip" data-original-title="Time since last property sale" class="tool_tips green-tooltip">
							                          
							                      </span>
      </td>
    </tr>



    <!-- <tr id="tar1" style="display: none;" >
													<td class="left_data"><div><span data-toggle="tooltip" data-original-title="Self explanatory" class="tool_tips green-tooltip">Time at Residence</span></div></td>
													<td class="right_data"><span id='time_at_residence1'>  </span></td>
												</tr>
												
												<tr id="aom1" style="display: none;" >
													<td class="left_data"><div><span data-toggle="tooltip" data-original-title="Outstanding home mortgage value" class="tool_tips green-tooltip">Amount of Mortgage</span></div></td>
													<td class="right_data"><span id='amount_of_mortgage1'>  </span></td>
												</tr>

												
    											
												<tr id="lbthvr1" style="display: none;" >
													<td class="left_data"><div><span data-toggle="tooltip" data-original-title="owner_text" class="tool_tips green-tooltip">Loan Balance to Home Value Ratio</span></div></td>
													<td class="right_data"><span id='loan_balance_to_home_value_ratio1'>  </span></td>
												</tr>
												
												<tr id="is1" style="display: none;" >
													<td class="left_data"><div><span data-toggle="tooltip" data-original-title='This is a relative score, "is he wealthy or not - relative to the rest of the U.S.?"' class="tool_tips green-tooltip">Income Score</span></div></td>
													<td class="right_data"><span id='income_score1'>  </span></td>
												</tr>
												
												<tr id="aiz1" style="display: none;" >
													<td class="left_data"><div><span data-toggle="tooltip" data-original-title="owner_text" class="tool_tips green-tooltip">Adults in Zip+4</span></div></td>
													<td class="right_data"><span id='adults_in_zip1'>  </span></td>
												</tr> -->



  </table>

  <br>
  <hr class="style-one" />
</div>

<!--END  Need to Know-->


<div class="table-responsive" id="check_electricity1" style="display: none;">
  <table class="table">
    <caption class="capt">
      Electricity Indicators
    </caption>


    <tr id="ht1" style="display: none;">
      <td class="left_data"><div><span data-toggle="tooltip" data-original-title="How the house is heated" class="tool_tips green-tooltip">Heat Type</span></div></td>
      <td class="right_data">	<span id='heat_type1' data-toggle="tooltip" data-original-title="How the house is heated" class="tool_tips green-tooltip"></span></td>
    </tr>
    <tr id="hf1" style="display: none;">
      <td class="left_data"><div><span data-toggle="tooltip" data-original-title="Energy source for heating" class="tool_tips green-tooltip">Heat Fuel</span></div></td>
      <td class="right_data"><span id='heat_fuel1' data-toggle="tooltip" data-original-title="Energy source for heating" class="tool_tips green-tooltip"></span></td>
    </tr>

    <tr id="aoh1" style="display: none;">
      <td class="left_data"><div><span data-toggle="tooltip" data-original-title="If building was demolished, age since reconstruction" class="tool_tips green-tooltip">Age of Home</span></div></td>
      <td class="right_data"><span id='age_of_home1' data-toggle="tooltip" data-original-title="If building was demolished, age since reconstruction" class="tool_tips green-tooltip"></span></td>
    </tr>


    <tr id="pl1" style="display: none;" >
      <td class="left_data"><div><span> Approximate no. of people living here</span></div></td>
      <td class="right_data"><span id='persons_living1'>  </span></td>
    </tr>


    <tr id="ga1" style="display: none;">
      <td class="left_data"><div><span data-toggle="tooltip" data-original-title="Total area of built structure(s) on property" class="tool_tips green-tooltip">Gross Area</span></div></td>
      <td class="right_data"><span id='gross_area1' data-toggle="tooltip" data-original-title="Total area of built structure(s) on property" class="tool_tips green-tooltip"></span></td>
    </tr>

    <tr id="nobed1" style="display: none;">
      <td class="left_data"><div><span>No. of Beds/Baths</span></div></td><td class="right_data"><span id='no_of_bedroom1'></span></td>
    </tr>

    <tr id="po1" style="display: none;">
      <td class="left_data"><div><span>Has Pool?</span></div></td><td class="right_data"><span id='pool1'></span></td>
    </tr>

    <tr id="utility1" style="display: none;">
      <td class="left_data">
        <div>
          <span>Utility provider (s)</span>
        </div>
      </td>

      <td class="right_data">
        <div>
          <span id='utilityspan1'></span>
        </div>
      </td>
    </tr>


    <!-- <tr id="lspps1" style="display: none;">
													<td class="left_data"><div><span data-toggle="tooltip" data-original-title="Sale price of the property in terms of dollar amount per square foot of living/building area (lot area if no building is present)." class="tool_tips green-tooltip">Last Sale Price/sqft</span>
																											</div></td><td class="right_data"><span id='last_sale_price_per_sqrft1'></span></td>
												</tr> -->



  </table>

  <br>
  <hr class="style-one" />
</div>

<!--end    Electricity Indicators-->


<div class="table-responsive"  id="check_show_money1" style="display: none;">
  <table class="table">
    <caption class="capt">
      Show Me The Money
    </caption>

    <tr id="ecs1" style="display: none;" >
      <td class="left_data"><div><span data-toggle="tooltip" data-original-title="Homeowner's estimated credit score based on anonymized credit data at a Zip+4 level, which typically consists of 8 homes." class="tool_tips green-tooltip">Estimated Credit Score</span></div></td>
      <td class="right_data"><span id='est_credit_score1' data-toggle="tooltip" data-original-title="Homeowner's estimated credit score based on anonymized credit data at a Zip+4 level, which typically consists of 8 homes." class="tool_tips green-tooltip">  </span></td>
    </tr>

    <tr id="i1" style="display: none;" >
      <td class="left_data"><div><span>Estimated Household Income</span></div></td>
      <td class="right_data"><span id='income1'>  </span></td>
    </tr>


    <tr id="hethvr1" style="display: none;" >
      <td class="left_data"><div><span data-toggle="tooltip" data-original-title="Ratio of home equity to home value" class="tool_tips green-tooltip">Estimated Home Equity</span></div></td>
      <td class="right_data"><span id='home_equity_to_home_value_ratio1' data-toggle="tooltip" data-original-title="Ratio of home equity to home value" class="tool_tips green-tooltip">  </span></td>
    </tr>

    <tr id="dtir1" style="display: none;" >
      <td class="left_data"><div><span>Estimated Debt to Income</span></div></td>
      <td class="right_data"><span id='debt_to_income_ratio1'>  </span></td>
    </tr>

    <tr id="lsp1" style="display: none;">
      <td class="left_data"><div><span data-toggle="tooltip" data-original-title="Price of last recorded property sale" class="tool_tips green-tooltip">Last Sale Price of Home</span></div></td>
      <td class="right_data"><span id='last_sale_price1' data-toggle="tooltip" data-original-title="Price of last recorded property sale" class="tool_tips green-tooltip"></span></td>
    </tr>

  </table>

  <br>
  <hr class="style-one" />
</div>
<!--end Show Me The Money-->

<div class="table-responsive"  id="check_ease_of_installation1" style="display: none;">
  <table class="table">
    <caption class="capt">
      Ease of Installation
    </caption>


    <tr id="rt1" style="display: none;">
      <td class="left_data"><div><span>Roof Type</span></div></td><td class="right_data"><span id='roof_type1'></span></td>
    </tr>

    <tr id="rs1" style="display: none;">
      <td class="left_data"><div><span>Roof Shape</span></div></td><td class="right_data"><span id='roof_shape1'></span></td>
    </tr>

    <tr id="rf1" style="display: none;">
      <td class="left_data"><div><span>Roof Frame</span></div></td><td class="right_data"><span id='roof_frame1'></span></td>
    </tr>

    <tr id="rm1" style="display: none;">
      <td class="left_data"><div><span>Roof Material</span></div></td><td class="right_data"><span id='roof_material1'></span></td>
    </tr>

    <tr id="noos1" style="display: none;">
      <td class="left_data"><div><span>No. of Stories</span></div></td><td class="right_data"><span id='no_of_stories1'></span></td>
    </tr>

    <tr id="z1" style="display: none;">
      <td class="left_data"><div><span data-toggle="tooltip" data-original-title="Based on zoning system used by county" class="tool_tips green-tooltip green-tooltip">Zoning</span></div></td>
      <td class="right_data"><span id='zoning1' data-toggle="tooltip" data-original-title="Based on zoning system used by county" class="tool_tips green-tooltip green-tooltip"></span></td>
    </tr>

  </table>

  <br>
  <hr class="style-one" />
</div>

<!--end Ease of Installation-->


<div class="table-responsive"  id="check_area_profile1" style="display: none;">
  <table class="table">
    <caption class="capt">
      Area Profile
    </caption>

    <tr id="d1" style="display: none;" >
      <td class="left_data"><div><span data-toggle="tooltip" data-original-title="Based on 1500 demographic, psychographic, attitudinal, econometric and credit attributes." class="tool_tips green-tooltip">Segmentation</span></div></td>
      <td class="right_data"><span id='delineate1' data-toggle="tooltip" data-original-title="Based on 1500 demographic, psychographic, attitudinal, econometric and credit attributes." class="tool_tips green-tooltip"></span></td>
    </tr>

    <tr id="glm1" style="display: none;" >
      <td class="left_data"><div><span data-toggle="tooltip" data-original-title="Based on values and purchasing habits" class="tool_tips green-tooltip">How Green?</span></div></td>
      <td class="right_data"><span id='green_living_model1' data-toggle="tooltip" data-original-title="Based on values and purchasing habits" class="tool_tips green-tooltip">  </span></td>
    </tr>

    <tr id="hp1" style="display: none;" >
      <td class="left_data"><div><span>% homes owned (vs. rented)</span></div></td>
      <td class="right_data"><span id='homeowner_penetration1'>  </span></td>
    </tr>

    <tr id="hoha1" style="display: none;" >
      <td class="left_data"><div><span>Approximate Head of Household Age</span></div></td>
      <td class="right_data"><span id='head_of_household_age1'>  </span></td>
    </tr>




  </table>

  <br>
  <hr class="style-one" />
</div>


<!--end Area Profile-->



<div id="check_solar_adoption1" style="display: none;">
  <div class="table-responsive">
    <table class="table">

      <tr>

        <td>
          <div>
                        <span style="font-family:'latobold'">
                          Solar Adoption
                        </span>
          </div>
        </td>
        <br>
        <td style="padding-left:22px;">

          <input type="radio" name="type1" id="changetype-zip" checked='checked' value="zip" >
          <label for="changetype-zip" style='display: inline'>
            Zip
          </label>

          <input type="radio" name="type1" id="changetype-city" value="city" data-toggle="radio" >
          <label for="changetype-city" class="radio" style='display: inline'>
            City
          </label>

        </td>

      </tr>

      <tr>
        <td class="mi_tab_result_pad" style="padding:15px;width:33%;padding-left:0px">
          <div>
                        <span>
                          Solar Homes
                        </span>
          </div>
          <div id='solar_homes1' class="mi_tab_result">

          </div>
        </td>
        <td class="mi_tab_result_pad" style="padding:15px;width:33%;padding-left:0px;">
          <div>
                        <span data-toggle="tooltip" data-original-title="% of systems financed by lease or PPA " class="tool_tips green-tooltip">
                         3rd Party
                        </span>
          </div>
          <div id='3rd_party1' data-toggle="tooltip" data-original-title="% of systems financed by lease or PPA " class="mi_tab_result tool_tips green-tooltip">

          </div>
        </td>
        <td class="mi_tab_result_pad" style="padding:15px;width:33%;padding-left:0px;">
          <div>
                        <span>
                          Avg. System
                        </span>
          </div>
          <div id='average_system1' class="mi_tab_result">

          </div>

        </td>
      </tr>

    </table>
  </div>


  <div class="table-responsive">
    <table class="table">
      <tr>
        <td class="left_data" rowspan="5">
          <div>
                         <span data-toggle="tooltip" data-original-title="Ranked by number of installations" class="tool_tips green-tooltip">
                          Top Installers
                        </span>
          </div>
        </td>
        <td class="right_data">
          <span id='installer10'></span>
        </td>

      </tr>

      <tr>
        <td class="right_data">
          <span id='installer11'></span>
        </td>

      </tr>
      <tr>
        <td class="right_data">
          <span id='installer12'></span>
        </td>

      </tr>
      <tr>
        <td class="right_data">
          <span id='installer13'></span>
        </td>

      </tr>
      <tr>
        <td class="right_data">
          <span id='installer14'></span>
        </td>

      </tr>



      <tr>
        <td style="padding-bottom:15px;"></td>
      </tr>
      <tr>
        <td class="left_data" rowspan="3">
          <div>
                         <span data-toggle="tooltip" data-original-title="Ranked by number of installations" class="tool_tips green-tooltip">
                         Top Panel Brands
                        </span>
          </div>
        </td>
        <td class="right_data">
          <span id='panel10'></span>
        </td>

      </tr>

      <tr>
        <td class="right_data">
          <span id='panel11'></span>
        </td>

      </tr>
      <tr>
        <td class="right_data">
          <span id='panel12'></span>
        </td>

      </tr>


      <tr>
        <td style="padding-bottom:15px;"></td>
      </tr>
      <tr>
        <td class="left_data" rowspan="3">
          <div>
                        <span data-toggle="tooltip" data-original-title="Ranked by number of installations" class="tool_tips green-tooltip">
                          Top Inverter Brands
                        </span>
          </div>
        </td>
        <td class="right_data">
          <span id='inverter10'></span>
        </td>

      </tr>

      <tr>
        <td class="right_data">
          <span id='inverter11'></span>
        </td>

      </tr>
      <tr>
        <td class="right_data">
          <span id='inverter12'></span>
        </td>

      </tr>


    </table>
  </div>
</div>

<div style="letter-spacing:1px;">

  <div id="model_avilable" style="line-height:22px;font-size:16px;">
    <p style="font-family:'latobold';line-height: 24px;font-size:17px;">COMING SOON</p><br />
    With ProspectZen's Instant 3D Home, you can instantly view a super high-resolution 3D model of your prospect's home, right in your browser.
  </div>
  <div id="rooft0p_img" style="width:100%;"><img style="width:100%;margin:0 auto" src="/assets/3D Rooftop2.png"></div>
  <div id="features" style="line-height:22px;padding-left:8px;font-size:15px;">
    <ul>
      <li>
        <div class="glyphicon glyphicon-ok" style="margin-right:10px;float:left"></div><div class="dtext_media" style="float:left">Inspect each roof plane with 6-inch accuracy.</div><div style="clear:both"></div>
      </li>
      <li>
        <div class="glyphicon glyphicon-ok" style="margin-right:10px;float:left"></div><div class="dtext_media" style="float:left">Maximize system size by 'seeing more of the roof'</div><div style="clear:both"></div>
      </li>

      <li>
        <div class="glyphicon glyphicon-ok" style="margin-right:10px;float:left"></div><div class="dtext_media" style="float:left">Shorten or eliminate your preliminary site survey</div><div style="clear:both"></div>
      </li>
      <li>
        <div class="glyphicon glyphicon-ok" style="margin-right:10px;float:left"></div><div class="dtext_media" style="float:left">Design code compliant systems the very first time</div><div style="clear:both"></div>
      </li>
      <li>
        <div class="glyphicon glyphicon-ok" style="margin-right:10px;float:left"></div><div class="dtext_media" style="float:left">Include in your quote and impress your customers</div><div style="clear:both"></div>
      </li>
    </ul>
  </div>
</div>





</div>
<!--end everything-->



<div class="tab-pane" id="solaradoption">
  <div class="table-responsive">
    <table class="table">

      <tr>

        <td>
          <div>
                        <span style="font-family:'latobold'">
                           Solar Adoption
                        </span>
          </div>
        </td>
        <br>
        <td style="padding-left:22px;">


          <input type="radio" name="type2" id="changetype-zip" checked='checked' value="zip" >
          <label for="changetype-zip" style='display: inline'>
            Zip
          </label>

          <input type="radio" name="type2" id="changetype-city" value="city" data-toggle="radio" >
          <label for="changetype-city" class="radio" style='display: inline'>
            City
          </label>

        </td>


      </tr>

      <tr>
        <td class="mi_tab_result_pad" style="padding:15px;width:33%;padding-left:0px;">
          <div>
                        <span>
                          Solar Homes
                        </span>
          </div>
          <div id='solar_homes2' class="mi_tab_result">

          </div>
        </td>
        <td class="mi_tab_result_pad" style="padding:15px;width:33%;padding-left:0px;">
          <div>
                        <span data-toggle="tooltip" data-original-title="% of systems financed by lease or PPA " class="tool_tips green-tooltip">
                          3rd Party
                        </span>
          </div>
          <div id='3rd_party2' data-toggle="tooltip" data-original-title="% of systems financed by lease or PPA " class="mi_tab_result tool_tips green-tooltip">

          </div>
        </td>
        <td class="mi_tab_result_pad" style="padding:15px;width:33%;padding-left:0px;">
          <div>
                        <span>
                          Avg. System
                        </span>
          </div>
          <div id='average_system2' class="mi_tab_result">

          </div>

        </td>
      </tr>

    </table>
  </div>


  <div class="table-responsive">
    <table class="table">
      <tr>
        <td class="left_data" rowspan="5">
          <div>
                        <span data-toggle="tooltip" data-original-title="Ranked by number of installations" class="tool_tips green-tooltip">
                          Top Installers
                        </span>
          </div>
        </td>
        <td class="right_data">
          <span id='installer20'></span>
        </td>

      </tr>

      <tr>
        <td class="right_data">
          <span id='installer21'></span>
        </td>

      </tr>
      <tr>
        <td class="right_data">
          <span id='installer22'></span>
        </td>

      </tr>
      <tr>
        <td class="right_data">
          <span id='installer23'></span>
        </td>

      </tr>
      <tr>
        <td class="right_data">
          <span id='installer24'></span>
        </td>

      </tr>


      <tr>
        <td style="padding-bottom:15px;"></td>
      </tr>

      <tr>
        <td class="left_data" rowspan="3">
          <div>
                        <span data-toggle="tooltip" data-original-title="Ranked by number of installations" class="tool_tips green-tooltip">
                         Top Panel Brands
                        </span>
          </div>
        </td>
        <td class="right_data">
          <span id='panel20'></span>
        </td>

      </tr>

      <tr>
        <td class="right_data">
          <span id='panel21'></span>
        </td>

      </tr>
      <tr>
        <td class="right_data">
          <span id='panel22'></span>
        </td>

      </tr>


      <tr>
        <td style="padding-bottom:15px;"></td>
      </tr>
      <tr>
        <td class="left_data" rowspan="3">
          <div>
                         <span data-toggle="tooltip" data-original-title="Ranked by number of installations" class="tool_tips green-tooltip">
                          Top Inverter Brands
                        </span>
          </div>
        </td>
        <td class="right_data">
          <span id='inverter20'></span>
        </td>

      </tr>

      <tr>
        <td class="right_data">
          <span id='inverter21'></span>
        </td>

      </tr>
      <tr>
        <td class="right_data">
          <span id='inverter22'></span>
        </td>

      </tr>


    </table>

  </div>


</div>
<!--end market intelligence -->



<div class="tab-pane" id="needtoknow">

  <div class="table-responsive">
    <table class="table">
      <caption class="capt">
        Need to Know
      </caption>

      <tr>
        <td class="left_data">
          <div>
            <span data-toggle="tooltip" data-original-title="Number of solar companies that have qualified this address, updated in real time" class="tool_tips green-tooltip">No. of checks on this address</span>
          </div></td>
        <td class="right_data"><span id='prev_checks2' data-toggle="tooltip" data-original-title="Number of solar companies that have qualified this address, updated in real time" class="tool_tips green-tooltip"> </span></td>
      </tr>

      <tr id="own2" style="display: none;">
        <td class="left_data">
          <div>
            <span data-toggle="tooltip" data-original-title="Name(s) on property title" class="tool_tips green-tooltip">Name of Owner(s)</span>
          </div></td>
        <td class="right_data"><span id='owner_name2' data-toggle="tooltip" data-original-title="Name(s) on property title" class="tool_tips green-tooltip"> </span></td>
      </tr>
      <tr id="ma2" style="display: none;">
        <td class="left_data">
          <div>
            <span data-toggle="tooltip" data-original-title="Contact property owner at this mailing address" class="tool_tips green-tooltip">Full Mailing Address</span>
          </div></td>
        <td class="right_data"><span id='mailing_address2' data-toggle="tooltip" data-original-title="Contact property owner at this mailing address" class="tool_tips green-tooltip"> </span></td>
      </tr>
      <tr id="oo2" style="display: none;">
        <td class="left_data">
          <div>
            <span>Owner Occupied?</span>
          </div></td>
        <td class="right_data"><span id='owner_occupied2'> </span></td>
      </tr>


      <tr id="luc2" style="display: none;">
        <td class="left_data">
          <div>
            <span>Property Type</span>
          </div>
        </td>
        <td class="right_data">
							                      <span id='land_use_code2'>
							                          
							                      </span>
        </td>
      </tr>


      <tr id="rpcu2" style="display: none;">
        <td class="left_data">
          <div>
            <span>No. of Units</span>
          </div>
        </td>
        <td class="right_data">
							                      <span id='residential_per_common_units2'>
							                          
							                      </span>
        </td>
      </tr>

      <tr id="lor2" style="display: none;" >
        <td class="left_data"><div><span> How likely to relocate in 3-6 months?</span></div></td>
        <td class="right_data"><span id='likelihood_of_relocation2'>  </span></td>
      </tr>

      <tr id="lsd2" style="display: none;">
        <td class="left_data">
          <div>
            <span data-toggle="tooltip" data-original-title="Time since last property sale" class="tool_tips green-tooltip">Owned For</span>
          </div>
        </td>
        <td class="right_data">
							                      <span id='last_sale_date2' data-toggle="tooltip" data-original-title="Time since last property sale" class="tool_tips green-tooltip">
							                          
							                      </span>
        </td>
      </tr>


      <!-- <tr id="tar2" style="display: none;" >
													<td class="left_data"><div><span data-toggle="tooltip" data-original-title="Self explanatory" class="tool_tips green-tooltip">Time at Residence</span></div></td>
													<td class="right_data"><span id='time_at_residence2'>  </span></td>
												</tr>
												
												<tr id="aom2" style="display: none;" >
													<td class="left_data"><div><span data-toggle="tooltip" data-original-title="Outstanding home mortgage value" class="tool_tips green-tooltip">Amount of Mortgage</span></div></td>
													<td class="right_data"><span id='amount_of_mortgage2'>  </span></td>
												</tr>


												
												<tr id="lbthvr2" style="display: none;" >
													<td class="left_data"><div><span data-toggle="tooltip" data-original-title="owner_text" class="tool_tips green-tooltip">Loan Balance to Home Value Ratio</span></div></td>
													<td class="right_data"><span id='loan_balance_to_home_value_ratio2'>  </span></td>
												</tr>
												
												<tr id="is2" style="display: none;" >
													<td class="left_data"><div><span data-toggle="tooltip" data-original-title='This is a relative score, "is he wealthy or not - relative to the rest of the U.S.?"' class="tool_tips green-tooltip">Income Score</span></div></td>
													<td class="right_data"><span id='income_score2'>  </span></td>
												</tr>
												
												<tr id="aiz2" style="display: none;" >
													<td class="left_data"><div><span data-toggle="tooltip" data-original-title="owner_text" class="tool_tips green-tooltip">Adults in Zip+4</span></div></td>
													<td class="right_data"><span id='adults_in_zip2'>  </span></td>
												</tr> -->



    </table>

  </div>
</div>
<!--end demographic -->



<div class="tab-pane" id="showmoney">
  <div class="table-responsive">
    <table class="table">
      <caption class="capt">
        Show Me The Money
      </caption>

      <tr id="ecs2" style="display: none;" >
        <td class="left_data"><div><span data-toggle="tooltip" data-original-title="Homeowner's estimated credit score for Zip+4 area, typically 8 homes " class="tool_tips green-tooltip">Estimated Credit Score</span></div></td>
        <td class="right_data"><span id='est_credit_score2' data-toggle="tooltip" data-original-title="Homeowner's estimated credit score for Zip+4 area, typically 8 homes " class="tool_tips green-tooltip"> </span></td>
      </tr>


      <tr id="i2" style="display: none;" >
        <td class="left_data"><div><span>Estimated Household Income</span></div></td>
        <td class="right_data"><span id='income2'></span></td>
      </tr>

      <tr id="hethvr2" style="display: none;" >
        <td class="left_data"><div><span data-toggle="tooltip" data-original-title="Ratio of home equity to home value" class="tool_tips green-tooltip">Estimated Home Equity</span></div></td>
        <td class="right_data"><span id='home_equity_to_home_value_ratio2' data-toggle="tooltip" data-original-title="Ratio of home equity to home value" class="tool_tips green-tooltip">  </span></td>
      </tr>

      <tr id="dtir2" style="display: none;" >
        <td class="left_data"><div><span>Estimated Debt to Income</span></div></td>
        <td class="right_data"><span id='debt_to_income_ratio2'>  </span></td>
      </tr>

      <tr id="lsp2" style="display: none;">
        <td class="left_data">
          <div>
            <span data-toggle="tooltip" data-original-title="Price of last recorded property sale" class="tool_tips green-tooltip">Last Sale Price of Home</span>
          </div>
        </td>
        <td class="right_data">
							                      <span id='last_sale_price2' data-toggle="tooltip" data-original-title="Price of last recorded property sale" class="tool_tips green-tooltip">
							                          
							                      </span>
        </td>
      </tr>



    </table>
  </div>

  <!--end owner-->
</div>

<div class="tab-pane" id="electricity">
  <div class="table-responsive">
    <table class="table">
      <caption class="capt">
        Electricity Indicators
      </caption>

      <tr id="ht2">
        <td class="left_data">
          <div>
            <span data-toggle="tooltip" data-original-title="How the house is heated" class="tool_tips green-tooltip">Heat Type</span>
          </div>
        </td>
        <td class="right_data">
                      <span id='heat_type2' data-toggle="tooltip" data-original-title="How the house is heated" class="tool_tips green-tooltip">
                      </span>
        </td>
      </tr>



      <tr id="hf2">
        <td class="left_data">
          <div>
            <span data-toggle="tooltip" data-original-title="Energy source for heating" class="tool_tips green-tooltip">Heat Fuel</span>
          </div>
        </td>
        <td class="right_data">
                      <span id='heat_fuel2' data-toggle="tooltip" data-original-title="Energy source for heating" class="tool_tips green-tooltip">
                      </span>
        </td>
      </tr>

      <tr id="aoh2">
        <td class="left_data">
          <div>
            <span data-toggle="tooltip" data-original-title="If building was demolished, age since reconstruction" class="tool_tips green-tooltip">Age of Home</span>
          </div>
        </td>
        <td class="right_data">
                      <span id='age_of_home2' data-toggle="tooltip" data-original-title="If building was demolished, age since reconstruction" class="tool_tips green-tooltip">
                      </span>
        </td>
      </tr>


      <tr id="pl2" style="display: none;" >
        <td class="left_data">
          <div>
            <span> Approximate no. of people living here</span>
          </div>
        </td>
        <td class="right_data"><span id='persons_living2'>  </span></td>
      </tr>

      <tr id="ga2">
        <td class="left_data">
          <div>
            <span data-toggle="tooltip" data-original-title="Total area of built structure(s) on property" class="tool_tips green-tooltip">Gross Area</span>
          </div>
        </td>
        <td class="right_data">
                      <span id='gross_area2' data-toggle="tooltip" data-original-title="Total area of built structure(s) on property" class="tool_tips green-tooltip">
                      </span>
        </td>
      </tr>


      <tr id="nobed2" style="display: none;">
        <td class="left_data"><div><span>No. of Beds/Baths</span></div></td><td class="right_data"><span id='no_of_bedroom2'></span></td>
      </tr>



      <tr id="po2">
        <td class="left_data">
          <div>
            <span>Has Pool?</span>
          </div>
        </td>
        <td class="right_data">
                      <span id='pool2'>
                      </span>
        </td>
      </tr>

      <tr id="utility2" style="display: none;">

        <td class="left_data">
          <div>
            <span>Utility provider (s)</span>
          </div>
        </td>

        <td class="right_data">
          <div>
            <span id='utilityspan2'></span>
          </div>
        </td>
      </tr>





      <!-- <tr id="lspps2" style="display: none;">
                    <td class="left_data">
                      <div>
                       <span data-toggle="tooltip" data-original-title="Sale price of the property in terms of dollar amount per square foot of living/building area (lot area if no building is present)." class="tool_tips green-tooltip">Last Sale Price/sqft<span>
                      </div>
                    </td>
                    <td class="right_data">
                      <span id='last_sale_price_per_sqrft2'>
                          
                      </span>
                    </td>
                  </tr> -->



    </table>
  </div>

  <!--end property-->
</div>



<div class="tab-pane" id="easeinstallation">
  <div class="table-responsive">
    <table class="table">
      <caption class="capt">
        Ease of Installation
      </caption>



      <tr id="rt2">
        <td class="left_data">
          <div>
            <span>Roof Type</span>
          </div>
        </td>
        <td class="right_data">
                      <span id='roof_type2'>
                      </span>
        </td>
      </tr>



      <tr id="rs2">
        <td class="left_data">
          <div>
            <span>Roof Shape</span>
          </div>
        </td>
        <td class="right_data">
                      <span id='roof_shape2'>
                      </span>
        </td>
      </tr>


      <tr id="rf2">
        <td class="left_data">
          <div>
            <span>Roof Frame</span>
          </div>
        </td>
        <td class="right_data">
                      <span id='roof_frame2'>
                      </span>
        </td>
      </tr>



      <tr id="rm2">
        <td class="left_data">
          <div>
            <span>Roof Material</span>
          </div>
        </td>
        <td class="right_data">
                      <span id='roof_material2'>
                      </span>
        </td>
      </tr>


      <tr id="noos2">
        <td class="left_data">
          <div>
            <span>No. of Stories</span>
          </div>
        </td>
        <td class="right_data">
                      <span id='no_of_stories2'>
                      </span>
        </td>
      </tr>


      <tr id="z2" style="display: none;">
        <td class="left_data">
          <div>
            <span data-toggle="tooltip" data-original-title="Based on zoning system used by county" class="tool_tips green-tooltip">Zoning</span>
          </div>
        </td>
        <td class="right_data">
                      <span id='zoning2' data-toggle="tooltip" data-original-title="Based on zoning system used by county" class="tool_tips green-tooltip">
                          
                      </span>
        </td>
      </tr>



    </table>
  </div>

  <!--end Ease of Installation-->
</div>


<div class="tab-pane" id="areaprofile">
  <div class="table-responsive">
    <table class="table">
      <caption class="capt">
        Area Profile
      </caption>

      <tr id="d2" style="display: none;" >
        <td class="left_data"><div><span data-toggle="tooltip" data-original-title="Based on 1500 demographic, psychographic, attitudinal, econometric and credit attributes." class="tool_tips green-tooltip">Segmentation</span></div></td>
        <td class="right_data"><span id='delineate2' data-toggle="tooltip" data-original-title="Based on 1500 demographic, psychographic, attitudinal, econometric and credit attributes." class="tool_tips green-tooltip"></span></td>
      </tr>

      <tr id="glm2" style="display: none;" >
        <td class="left_data"><div><span data-toggle="tooltip" data-original-title="Based on values and purchasing habits" class="tool_tips green-tooltip">How Green?</span></div></td>
        <td class="right_data"><span id='green_living_model2' data-toggle="tooltip" data-original-title="Based on values and purchasing habits" class="tool_tips green-tooltip">  </span></td>
      </tr>

      <tr id="hp2" style="display: none;" >
        <td class="left_data"><div><span>% homes owned (vs. rented)</span></div></td>
        <td class="right_data"><span id='homeowner_penetration2'>  </span></td>
      </tr>

      <tr id="hoha2" style="display: none;" >
        <td class="left_data"><div><span>Approximate Head of Household Age</span></div></td>
        <td class="right_data"><span id='head_of_household_age2'>  </span></td>
      </tr>



    </table>
  </div>

  <!--end  Area Profile-->
</div>




<div class="tab-pane" id="dhome" style="letter-spacing:1px;">

  <div id="model_avilable" style="line-height:22px;font-size:16px;">
    <p style="font-family:'latobold';line-height: 24px;font-size:17px;">COMING SOON</p><br />
    With ProspectZen's Instant 3D Home, you can instantly view a super high-resolution 3D model of your prospect's home, right in your browser.
  </div>
  <div id="rooft0p_img" style="width:100%;"><img style="width:100%;margin:0 auto" src="/assets/3D Rooftop2.png"></div>
  <div id="features" style="line-height:22px;padding-left:8px;font-size:15px;">
    <ul>
      <li>
        <div class="glyphicon glyphicon-ok" style="margin-right:10px;float:left"></div><div class="dtext_media" style="float:left">Inspect each roof plane with 6-inch accuracy.</div><div style="clear:both"></div>
      </li>
      <li>
        <div class="glyphicon glyphicon-ok" style="margin-right:10px;float:left"></div><div class="dtext_media" style="float:left">Maximize system size by 'seeing more of the roof'</div><div style="clear:both"></div>
      </li>

      <li>
        <div class="glyphicon glyphicon-ok" style="margin-right:10px;float:left"></div><div class="dtext_media" style="float:left">Shorten or eliminate your preliminary site survey</div><div style="clear:both"></div>
      </li>
      <li>
        <div class="glyphicon glyphicon-ok" style="margin-right:10px;float:left"></div><div class="dtext_media" style="float:left">Design code compliant systems the very first time</div><div style="clear:both"></div>
      </li>
      <li>
        <div class="glyphicon glyphicon-ok" style="margin-right:10px;float:left"></div><div class="dtext_media" style="float:left">Include in your quote and impress your customers</div><div style="clear:both"></div>
      </li>
    </ul>
  </div>
</div>



</div>


</div>

</div>
<div id="panel_container_sidebar">
        <span id="side" class="glyphicon glyphicon-chevron-left" style="color:#5cb85c">
        </span>
</div>
<div style="clear:both">
</div>
</div>
<!--            End panel container                               -->

<div style="width:32px;">
  <img id="loadingimage" style="display:none;width:50px;height:50px;position:absolute;top:50%;left:50%;z-index: 100000000000" src = "/assets/greenloader.gif" >
</div>



<script type="text/javascript">
    var input;
    var radiovalue = 'zip';
    var citycode = '';
    var zipcode = '';
    var autocomplete;
    var x, y;
    var length2 = 0;
    // var transcationid;

    var geocoder;

    $(document).ready(function() {
        $('#loc_search').focusin(function() {
            $('#search_error').css("visibility","hidden");
            $('#loc_search').css("outline","0px");
//					$('#search_error').html('No error');					

        });


        $("input[type='radio'][name='type1']").click(function() {

            $.ajax({
                url : "/homes/datafetch",
                type : "POST",
                dataType : 'JSON',
                data : {
                    'zip' : zipcode,
                    'citycode' : citycode,
                    'radio' : $(this).val()
                },
                success : function(response) {


                    for ( var i = 0; i < 5; i++) {

                        $("#installer1" + i).html("");

                    }

                    for ( i = 0; i < 3; i++) {
                        $("#panel1" + i).html("");
                        $("#inverter1" + i).html("");
                    }

                    if (response['utility'].length > 0) {
                        var str = '';
                        for ( i = 0; i < response['utility'].length; i++) {

                            str += response['utility'][i]['utility'] + '<br>';
                            $("#utilityspan1").html(str);

                        }

                    }

                    if (response['zipeverythingelse'].length > 0) {

                        $("#solar_homes1").html(response['zipeverythingelse'][0]['no_of_solar_homes']);
                        $("#3rd_party1").html(response['zipeverythingelse'][0]['3rd_party_owned_system']+'%');
                        $("#average_system1").html(parseFloat(response['zipeverythingelse'][0]['average_system_size']).toFixed(2)+'kW');

                    }

                    if (response['topinstaller'].length > 0) {
                        for ( i = 0; i < response['topinstaller'].length; i++) {

                            $("#installer1" + i).html((i+1)+'. '+response['topinstaller'][i]['installers']);

                        }
                    } else {
                        for ( i = 0; i < 5; i++) {

                            $("#installer1" + i).html("");

                        }

                        $("#solar_homes1").html('');
                        $("#3rd_party1").html('');
                        $("#average_system1").html('');

                    }

                    if (response['toppanelbrands'].length > 0) {

                        for ( i = 0; i < response['toppanelbrands'].length; i++) {

                            $("#panel1" + i).html((i+1)+'. '+response['toppanelbrands'][i]['panel_brands']);

                        }
                    } else {
                        for ( i = 0; i < 3; i++) {

                            $("#panel1" + i).html("");

                        }
                        $("#solar_homes1").html('');
                        $("#3rd_party1").html('');
                        $("#average_system1").html('');

                    }

                    if (response['topinverterbrands'].length > 0) {

                        for ( i = 0; i < response['topinverterbrands'].length; i++) {

                            $("#inverter1" + i).html((i+1)+'. '+response['topinverterbrands'][i]['inverter_brands']);

                        }
                    } else {
                        for ( i = 0; i < 3; i++) {

                            $("#inverter1" + i).html("");

                        }

                        $("#solar_homes1").html('');
                        $("#3rd_party1").html('');
                        $("#average_system1").html('');

                    }

                }
            });
        });

        $("input[type='radio'][name='type2']").click(function() {


            $.ajax({
                url : "/homes/datafetch",
                type : "POST",
                dataType : 'JSON',
                data : {
                    'zip' : zipcode,
                    'citycode' : citycode,
                    'radio' : $(this).val()
                },
                success : function(response) {


                    for ( i = 0; i < 5; i++) {
                        $("#installer2" + i).html("");
                    }

                    for ( i = 0; i < 3; i++) {
                        $("#panel2" + i).html("");
                        $("#inverter2" + i).html("");

                    }

                    if (response['utility'].length > 0) {
                        var str = ''
                        for ( i = 0; i < response['utility'].length; i++) {

                            str += response['utility'][i]['utility'] + '<br>';
                            $("#utilityspan2").html(str);

                        }

                    }

                    if (response['zipeverythingelse'].length > 0) {
                        $("#solar_homes2").html(response['zipeverythingelse'][0]['no_of_solar_homes']);
                        $("#3rd_party2").html(response['zipeverythingelse'][0]['3rd_party_owned_system']+'%');
                        $("#average_system2").html(parseFloat(response['zipeverythingelse'][0]['average_system_size']).toFixed(2)+'kW');
                    }

                    if (response['topinstaller'].length > 0) {
                        for ( i = 0; i < response['topinstaller'].length; i++) {

                            $("#installer2" + i).html((i+1)+'. '+ response['topinstaller'][i]['installers']);

                        }
                    } else {
                        for ( i = 0; i < 5; i++) {

                            $("#installer2" + i).html("");

                        }

                        $("#solar_homes2").html('');
                        $("#3rd_party2").html('');
                        $("#average_system2").html('');
                    }

                    if (response['toppanelbrands'].length > 0) {

                        for ( i = 0; i < response['toppanelbrands'].length; i++) {

                            $("#panel2" + i).html((i+1)+'. '+response['toppanelbrands'][i]['panel_brands']);

                        }
                    } else {
                        for ( i = 0; i < 3; i++) {

                            $("#panel2" + i).html("");

                        }

                        $("#solar_homes2").html('');
                        $("#3rd_party2").html('');
                        $("#average_system2").html('');
                    }

                    if (response['topinverterbrands'].length > 0) {

                        for ( i = 0; i < response['topinverterbrands'].length; i++) {

                            $("#inverter2" + i).html((i+1)+'. '+response['topinverterbrands'][i]['inverter_brands']);

                        }
                    } else {
                        for ( i = 0; i < 3; i++) {

                            $("#inverter2" + i).html("");

                        }

                        $("#solar_homes2").html('');
                        $("#3rd_party2").html('');
                        $("#average_system2").html('');
                    }

                }
            });
        });
    });
    var transaction_id ;
    var addresses = new Array;
    var transaction = new Array;
    var lat = new Array;
    var lng = new Array;
    var latitude;
    var longitude;
    var marker = new Array;
    var marker2;
    var map;
    var position3;
    var flag_to_set_marker_center=1;
    
    var infoBubble = new InfoBubble({
        shadowStyle: 3,
        padding: 0,
        backgroundColor: '#C0392B',
        borderRadius: 0,
        arrowSize: 8,
        borderWidth: 1,
        borderColor: '#C0392B',
        // disableAutoPan: true,
        hideCloseButton: true,
        arrowPosition: 50,
        // overflow: hidden,
        // backgroundClassName: 'phoney',
        arrowStyle:0,
        minWidth: 300,
        minHeight: 80,
        maxWidth: 300,
        maxHeight: 80
    });


    var check2 = 0;
    var componentForm = {
        street_number : 'short_name',
        route : 'short_name',
        locality : 'long_name',
        country : 'short_name',
        postal_code : 'short_name',
        administrative_area_level_1: 'short_name',
        administrative_area_level_2: "short_name"
    };

    var componentForm1 = {
        street_number : '',
        route : '',
        locality : '',
        country : '',
        administrative_area_level_1: '',
        administrative_area_level_2: "",
        postal_code : ''
    };

    var formatted_address;
    
    	google.maps.Map.prototype.panToWithOffset = function(latlng, offsetX, offsetY) {
	    var map = this;
	    var ov = new google.maps.OverlayView();
	    ov.onAdd = function() {
	        var proj = this.getProjection();
	        var aPoint = proj.fromLatLngToContainerPixel(latlng);
	        aPoint.x = aPoint.x+offsetX;
	        aPoint.y = aPoint.y+offsetY;
	        map.panTo(proj.fromContainerPixelToLatLng(aPoint));
	    }; 
	    ov.draw = function() {}; 
	    ov.setMap(this); 
	};


    $(window).bind('keypress', function(e) {
        if (e.keyCode == 13) {

            input = document.getElementById('loc_search').value;

            componentForm1 = {
                street_number : '',
                route : '',
                locality : '',
                country : '',
                postal_code : '',
                administrative_area_level_1: '',
                administrative_area_level_2: ''
            };

            check();

            <% if session[:last_viewed_address] %>
            setTimeout(function() {
                map.setZoom(21);
            }, 2000);

            <% else %>
            setTimeout(function() {
                map.setZoom(21);
                map.panToWithOffset(position3, -parseInt($('#panel_container').width()/2), 0); 
            }, 3000);

            <% end %>


        }
    });


    function qualifyclick()
    {
        input = document.getElementById('loc_search').value;

        componentForm1 = {
            street_number : '',
            route : '',
            locality : '',
            country : '',
            postal_code : '',
            administrative_area_level_1: '',
            administrative_area_level_2: ''
        };

        check();
        <% if session[:last_viewed_address] %>
        setTimeout(function() {
            map.setZoom(21);
        }, 2000);

        <% else %>
        setTimeout(function() {
            map.setZoom(21);
            map.panToWithOffset(position3, -parseInt($('#panel_container').width()/2), 0); 
        }, 3000);

        <% end %>

    }


    function camerapositionpurchase(latitude,longitude,formatted_address)
    {
        $("#panel_container").css("visibility","visible");
        $('#ascrail2000').css("visibility","visible");
      
        var input = document.getElementById('loc_search').value;
        setValueNewTranscation(formatted_address);
        var position2 = new google.maps.LatLng(latitude, longitude);
        map.setCenter(position2);
        position3=position2;
        map.panToWithOffset(position2, -parseInt($('#panel_container').width()/2), 0); 
        map.setZoom(21);
    }



    function camerapositionfirsttym(input)
    {

        $("#panel_container").css("visibility","visible");
        $('#ascrail2000').css("visibility","visible");
        <% if session[:lat] %>
        lat1 = '<%= session[:lat] %>'
        lng1 = '<%= session[:lng] %>'

        setValueNewTranscation(input);
        var position2 = new google.maps.LatLng(lat1, lng1);
        map.setCenter(position2);
        position3=position2;
        map.panToWithOffset(position2, -parseInt($('#panel_container').width()), 0);
        map.setZoom(21);
        <% end %>
    }




    function cameraposition() {

        $("#panel_container").css("visibility","visible");
        $("#ascrail2000").css("visibility","visible");
        makemake();
        var len = length2;
        addresses[len] = formatted_address;
        lat[len] = latitude;
        lng[len] = longitude;
       // $("#loadingimage").hide();
        transaction[len] = transaction_id;
       
        marker[len] = new google.maps.Marker({
            position: new google.maps.LatLng(latitude,longitude),
            map: map,
            icon: markerImage
        });

        var position2 = new google.maps.LatLng(latitude,longitude);
        map.setCenter(position2);
        position3=position2;
        map.panToWithOffset(position2, -parseInt($('#panel_container').width()/2), 0);
   
        google.maps.event.addListener(marker[len], 'click', function() {
            setValue(transaction[len]);
            infoBubble.open(map, marker[len]);         
            event.preventDefault();
            
            if (flag_to_set_marker_center==1)
            {            
            	            setTimeout(function() { map.panToWithOffset(position2, -parseInt($('#panel_container').width()/2), 0); }, 500);
            }
        });

        google.maps.event.addListener(map, "click", function () {
            infoBubble.close();
        });
        map.setZoom(21);
        length2 = length2 + 1;
    }


    function pad(number, length){
        var str = "" + number;
        while (str.length < length) {
            str = '0'+str;
        }
        return str;
    }


    function makemake()
    {
        for ( i = 0; i < 5; i++) {

            $("#installer1" + i).html("");
            $("#installer2" + i).html("");
        }
        for ( i = 0; i < 3; i++) {
            $("#panel1" + i).html("");
            $("#panel2" + i).html("");

            $("#inverter1" + i).html("");
            $("#inverter2" + i).html("");

        }


        input1 = formatted_address.split(",");
        var secondline=''

        for(i=1; i< (input1.length-1); i++)
        {
            secondline=secondline+input1[i]+' ';
        }


        $("#panel_search_result").html(input1[0]+'<br>'+secondline);
        $("#puchased_marker").html(input1[0]+'<br>'+secondline);

        var offset = new Date().getTimezoneOffset();

        offset = ((offset<0? '+':'-')+ pad(parseInt(Math.abs(offset/60)), 2)+":"+pad(Math.abs(offset%60), 2));
        //alert(offset);


        $.ajax({
            url : "/homes/checkpurchase",
            type : "POST",
            dataType : 'JSON',
            async: false,
            data : {
                'zip' : componentForm1['postal_code'],
                'city' : componentForm1['locality'],
                'street' : componentForm1['street_number'],
                'route' : componentForm1['route'],
                'state' : componentForm1['administrative_area_level_1'],
                'county' : componentForm1['administrative_area_level_2'],
                'country' : componentForm1['country'],
                'address' : formatted_address,
                'lat' : latitude,
                'lng' : longitude,
                'usertimezone' :offset
            },


            success : function(response) {


                var check_flag=0;
                transaction_id= response['results'][0]['transaction_id'];
                console.log(transaction_id);
                var  ipq_check=response['results'][0]['prev_check'];

                var arr=('<%=session[:company_email] %>').split('@')

                if (ipq_check >'0' &&  arr[1]=='prospectzen.com' )
                {
                    ipq_chk=ipq_check
                }
                else if (ipq_check<='1')
                {
                    ipq_chk="You're the first"
                }
                else
                {
                    ipq_chk=ipq_check-1;
                }



                $("#prev_checks1").html(ipq_chk);
                $("#prev_checks2").html(ipq_chk);
                check_flag=1;


                if(response['results'][0]['owner_name']=='' || response['results'][0]['owner_name']==null )
                {
                    $("#own1").hide();
                    $("#own2").hide();
                }

                else{

                    $("#own1").show();
                    $("#own2").show();
                    $("#owner_name1").html(response['results'][0]['owner_name']);
                    $("#owner_name2").html(response['results'][0]['owner_name']);
                    check_flag=1;
                }



                if(response['results'][0]['mailing_address']=='' || response['results'][0]['mailing_address']==null)
                {
                    $("#ma1").hide();
                    $("#ma2").hide();
                }

                else{

                    $("#ma1").show();
                    $("#ma2").show();
                    $("#mailing_address1").html(response['results'][0]['mailing_address']);
                    $("#mailing_address2").html(response['results'][0]['mailing_address']);
                    check_flag=1;
                }



                if(response['results'][0]['owner_occupied_indicator']=='' || response['results'][0]['owner_occupied_indicator']==null)
                {
                    $("#oo1").hide();
                    $("#oc2").hide();
                }

                else{

                    $("#oo1").show();
                    $("#oo2").show();

                    if (response['results'][0]['owner_occupied_indicator']==1)
                    {
                        $("#owner_occupied1").html('Yes');
                        $("#owner_occupied2").html('Yes');
                    }
                    else
                    {
                        $("#owner_occupied1").html('No');
                        $("#owner_occupied2").html('No');
                    }
                    check_flag=1;
                }


                if(response['results'][0]['land_use_code']=='' || response['results'][0]['land_use_code']==null)
                {
                    $("#luc1").hide();
                    $("#luc2").hide();
                }

                else{

                    $("#luc1").show();
                    $("#luc2").show();

                    if (response['results'][0]['land_use_code']=='SFR' || response['results'][0]['land_use_code']=='Sfr')
                    {
                        $("#land_use_code1").html('Single Family Home');
                        $("#land_use_code2").html('Single Family Home');
                    }
                    else
                    {
                        $("#land_use_code1").html(response['results'][0]['land_use_code']);
                        $("#land_use_code2").html(response['results'][0]['land_use_code']);
                    }

                    check_flag=1;
                }


                if(response['results'][0]['no_of_residential_per_common_units']=='' || response['results'][0]['no_of_residential_per_common_units']==null)
                {
                    $("#rpcu1").hide();
                    $("#rpcu2").hide();
                }

                else{

                    $("#rpcu1").show();
                    $("#rpcu2").show();
                    $("#residential_per_common_units1").html(response['results'][0]['no_of_residential_per_common_units']);
                    $("#residential_per_common_units2").html(response['results'][0]['no_of_residential_per_common_units']);
                    check_flag=1;
                }



                if(response['results'][0]['Premoves']=='' || response['results'][0]['Premoves']==null )
                {
                    $("#lor1").hide();
                    $("#lor2").hide();
                }

                else{

                    $("#lor1").show();
                    $("#lor2").show();

                    if (response['results'][0]['Premoves']<= 25)
                    {
                        $("#likelihood_of_relocation1").html("Very Unlikely");
                        $("#likelihood_of_relocation2").html("Very Unlikely");
                    }
                    else if(response['results'][0]['Premoves']<= 50)
                    {
                        $("#likelihood_of_relocation1").html("Unlikely");
                        $("#likelihood_of_relocation2").html("Unlikely");
                    }
                    else if(response['results'][0]['Premoves']<= 75)
                    {
                        $("#likelihood_of_relocation1").html("Somewhat");
                        $("#likelihood_of_relocation2").html("Somewhat");
                    }
                    else
                    {
                        $("#likelihood_of_relocation1").html("Very");
                        $("#likelihood_of_relocation2").html("Very");
                    }
                    check_flag=1;
                }


                if(response['owned']=='' || response['owned']==null)
                {
                    $("#lsd1").hide();
                    $("#lsd2").hide();
                }

                else{

                    $("#lsd1").show();
                    $("#lsd2").show();
                    $("#last_sale_date1").html(response['owned']);
                    $("#last_sale_date2").html(response['owned']);
                    check_flag=1;
                }



                // if(response['results'][0]['ResidenceTime_z4']=='' || response['results'][0]['ResidenceTime_z4']==null )
                // {
                // $("#tar1").hide();
                // $("#tar2").hide();
                // }
// 		                        
                // else{
// 		                        	
                // $("#tar1").show();
                // $("#tar2").show();
                // $("#time_at_residence1").html(response['results'][0]['ResidenceTime_z4']);
                // $("#time_at_residence2").html(response['results'][0]['ResidenceTime_z4']);
                // check_flag=1;
                // }
// 		     		                      
                // if(response['results'][0]['MortgageAmount_z4']=='' || response['results'][0]['MortgageAmount_z4']==null )
                // {
                // $("#aom1").hide();
                // $("#aom2").hide();
                // }
// 		                        
                // else{
// 		                        	
                // $("#aom1").show();
                // $("#aom2").show();
                // $("#amount_of_mortgage1").html(response['results'][0]['MortgageAmount_z4']);
                // $("#amount_of_mortgage2").html(response['results'][0]['MortgageAmount_z4']);
                // check_flag=1;
                // }
//                   
// 		     		                      		                      
                // if(response['results'][0]['Loantovalue_z4']=='' || response['results'][0]['Loantovalue_z4']==null )
                // {
                // $("#lbthvr1").hide();
                // $("#lbthvr2").hide();
                // }
// 		                        
                // else{
// 		                        	
                // $("#lbthvr1").show();
                // $("#lbthvr2").show();
                // $("#loan_balance_to_home_value_ratio1").html(response['results'][0]['Loantovalue_z4']);
                // $("#loan_balance_to_home_value_ratio2").html(response['results'][0]['Loantovalue_z4']);
                // check_flag=1;
                // }
// 		     		                      
                // if(response['results'][0]['IncomeIQ_plus_z4']=='' || response['results'][0]['IncomeIQ_plus_z4']==null )
                // {
                // $("#is1").hide();
                // $("#is2").hide();
                // }
// 		                        
                // else{
// 		                        	
                // $("#is1").show();
                // $("#is2").show();
                // $("#income_score1").html(response['results'][0]['IncomeIQ_plus_z4']);
                // $("#income_score2").html(response['results'][0]['IncomeIQ_plus_z4']);
                // check_flag=1;
                // }
// 		     		                      
// 	     		                     
// 		                      
                // if(response['results'][0]['NumberofadultsinZip4']=='' || response['results'][0]['NumberofadultsinZip4']==null )
                // {
                // $("#aiz1").hide();
                // $("#aiz2").hide();
                // }
// 		                        
                // else{
// 		                        	
                // $("#aiz1").show();
                // $("#aiz2").show();
                // $("#adults_in_zip1").html(response['results'][0]['NumberofadultsinZip4']);
                // $("#adults_in_zip2").html(response['results'][0]['NumberofadultsinZip4']);
                // check_flag=1;
                // }


                if (check_flag==1)
                {
                    $("#check_need_to_know1").show();
                    $("#check_need_to_know2").show();
                    check_flag=0;
                }
                else
                {
                    $("#check_need_to_know1").hide();
                    $("#check_need_to_know2").hide();
                }







                if(response['results'][0]['heat_type']=='' || response['results'][0]['heat_type']==null)
                {
                    $("#ht1").hide();
                    $("#ht2").hide();
                }

                else{

                    $("#ht1").show();
                    $("#ht2").show();
                    $("#heat_type1").html(response['results'][0]['heat_type']);
                    $("#heat_type2").html(response['results'][0]['heat_type']);
                    check_flag=1;
                }


                if(response['results'][0]['heat_fuel']=='' || response['results'][0]['heat_fuel']==null)
                {
                    $("#hf1").hide();
                    $("#hf2").hide();
                }

                else{

                    $("#hf1").show();
                    $("#hf2").show();
                    $("#heat_fuel1").html(response['results'][0]['heat_fuel']);
                    $("#heat_fuel2").html(response['results'][0]['heat_fuel']);
                    check_flag=1;
                }


                if(response['age']=='' || response['age']==null)
                {
                    //    alert(response['age']);
                    $("#aoh1").hide();
                    $("#aoh2").hide();
                }

                else{
                    // alert(response['age']);
                    $("#aoh1").show();
                    $("#aoh2").show();
                    $("#age_of_home1").html(response['age']+' years');
                    $("#age_of_home2").html(response['age']+' years');
                    check_flag=1;
                }

                if(response['results'][0]['PersonsatResidence_z4']=='' || response['results'][0]['PersonsatResidence_z4']==null )
                {
                    $("#pl1").hide();
                    $("#pl2").hide();
                }

                else{

                    $("#pl1").show();
                    $("#pl2").show();
                    $("#persons_living1").html(response['results'][0]['PersonsatResidence_z4']);
                    $("#persons_living2").html(response['results'][0]['PersonsatResidence_z4']);
                    check_flag=1;
                }



                if(response['results'][0]['gross_area']=='' || response['results'][0]['gross_area']==null)
                {
                    $("#ga1").hide();
                    $("#ga2").hide();
                }

                else{

                    $("#ga1").show();
                    $("#ga2").show();
                    $("#gross_area1").html(response['results'][0]['gross_area']+' sqft');
                    $("#gross_area2").html(response['results'][0]['gross_area']+' sqft');
                    check_flag=1;
                }




                if((response['results'][0]['no_of_bedrooms']=='' || response['results'][0]['no_of_bedrooms']==null) && (response['results'][0]['no_of_bathrooms']=='' || response['results'][0]['no_of_bathrooms']==null))
                {
                    $("#nobed1").hide();
                    $("#nobed2").hide();
                }

                else{

                    $("#nobed1").show();
                    $("#nobed2").show();


                    $("#no_of_bedroom1").html(response['results'][0]['no_of_bedrooms']+'/'+response['results'][0]['no_of_bathrooms']);
                    $("#no_of_bedroom2").html(response['results'][0]['no_of_bedrooms']+'/'+response['results'][0]['no_of_bathrooms']);
                    check_flag=1;
                }





                if(response['results'][0]['pool']=='' || response['results'][0]['pool']==null)
                {
                    $("#po1").hide();
                    $("#po2").hide();
                }

                else{

                    $("#po1").show();
                    $("#po2").show();

                    if (response['results'][0]['pool']==1)
                    {
                        $("#pool1").html('Yes');
                        $("#pool2").html('Yes');
                    }
                    else
                    {
                        $("#pool1").html('No');
                        $("#pool2").html('No');
                    }
                    check_flag=1;
                }


                if (response['utility'].length > 0) {
                    var str = ''
                    for ( i = 0; i < response['utility'].length; i++) {

                        str += response['utility'][i]['utility'] + '<br>';
                    }

                    $("#utility1").show();
                    $("#utility2").show();
                    $("#utilityspan1").html(str);
                    $("#utilityspan2").html(str);
                    check_flag=1;
                }

                else{
                    $("#utility1").hide();
                    $("#utility2").hide();

                }



// 						
// 																
                // if(response['results'][0]['last_sale_price_per_sqr_ft']=='' || response['results'][0]['last_sale_price_per_sqr_ft']==null)
                // {
                // $("#lspps1").hide();
                // $("#lspps2").hide();
                // }
// 		                        
                // else{
// 		                        	
                // $("#lspps1").show();
                // $("#lspps2").show();
                // $("#last_sale_price_per_sqrft1").html(response['results'][0]['last_sale_price_per_sqr_ft']);
                // $("#last_sale_price_per_sqrft2").html(response['results'][0]['last_sale_price_per_sqr_ft']);
                // check_flag=1;
                // }





                if (check_flag==1)
                {
                    $("#check_electricity1").show();
                    $("#check_electricity2").show();
                    check_flag=0;
                }
                else
                {
                    $("#check_electricity1").hide();
                    $("#check_electricity2").hide();
                }


                if(response['results'][0]['riskiq3']=='' || response['results'][0]['riskiq3']==null )
                {
                    $("#ecs1").hide();
                    $("#ecs2").hide();
                }

                else{

                    $("#ecs1").show();
                    $("#ecs2").show();
                    if (response['results'][0]['riskiq3']<= 36)
                    {
                        $("#est_credit_score1").html('<650');
                        $("#est_credit_score2").html('<650');
                    }
                    else if(response['results'][0]['riskiq3']<= 50)
                    {
                        $("#est_credit_score1").html('650-700');
                        $("#est_credit_score2").html('650-700');
                    }
                    else if(response['results'][0]['riskiq3']<= 64)
                    {
                        $("#est_credit_score1").html('700-750');
                        $("#est_credit_score2").html('700-750');
                    }

                    else if(response['results'][0]['riskiq3']<= 83)
                    {
                        $("#est_credit_score1").html('750-800');
                        $("#est_credit_score2").html('750-800');
                    }

                    else
                    {
                        $("#est_credit_score1").html('800+');
                        $("#est_credit_score2").html('800+');
                    }

                    check_flag=1;
                }


                if(response['results'][0]['IncomeIQ_Dol']=='' || response['results'][0]['IncomeIQ_Dol']==null )
                {
                    $("#i1").hide();
                    $("#i2").hide();
                }

                else{


                    $("#i1").show();
                    $("#i2").show();

                    var str="";
                    str='$'+(response['results'][0]['IncomeIQ_Dol']*1000);
                    str=str.replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1,");
                    $("#income1").html(str);
                    $("#income2").html(str);

                    check_flag=1;
                }



                if(response['results'][0]['Homeequity_pc_z4']=='' || response['results'][0]['Homeequity_pc_z4']==null )
                {
                    $("#hethvr1").hide();
                    $("#hethvr2").hide();
                }

                else{

                    $("#hethvr1").show();
                    $("#hethvr2").show();
                    $("#home_equity_to_home_value_ratio1").html(response['results'][0]['Homeequity_pc_z4']+'%');
                    $("#home_equity_to_home_value_ratio2").html(response['results'][0]['Homeequity_pc_z4']+'%');
                    check_flag=1;
                }


                if(response['results'][0]['DebtRatio']=='' || response['results'][0]['DebtRatio']==null )
                {
                    $("#dtir1").hide();
                    $("#dtir2").hide();
                }

                else{

                    $("#dtir1").show();
                    $("#dtir2").show();
                    $("#debt_to_income_ratio1").html(response['results'][0]['DebtRatio']+'%');
                    $("#debt_to_income_ratio2").html(response['results'][0]['DebtRatio']+'%');
                    check_flag=1;
                }


                if(response['results'][0]['last_sale_price']=='' || response['results'][0]['last_sale_price']==null)
                {
                    $("#lsp1").hide();
                    $("#lsp2").hide();
                }

                else{

                    $("#lsp1").show();
                    $("#lsp2").show();

                    var str="";

                    str='$'+response['results'][0]['last_sale_price'];
                    str=str.replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1,");
                    $("#last_sale_price1").html(str);
                    $("#last_sale_price2").html(str);

                    check_flag=1;
                }




                if (check_flag==1)
                {
                    $("#check_show_money1").show();
                    $("#check_show_money2").show();
                    check_flag=0;
                }
                else
                {
                    $("#check_show_money1").hide();
                    $("#check_show_money2").hide();
                }







                if(response['results'][0]['roof_type']=='' || response['results'][0]['roof_type']==null)
                {
                    $("#rt1").hide();
                    $("#rt2").hide();
                }

                else{

                    $("#rt1").show();
                    $("#rt2").show();
                    $("#roof_type1").html(response['results'][0]['roof_type']);
                    $("#roof_type2").html(response['results'][0]['roof_type']);
                    check_flag=1;
                }



                if(response['results'][0]['roof_shape']=='' || response['results'][0]['roof_shape']==null)
                {
                    $("#rs1").hide();
                    $("#rs2").hide();
                }

                else{

                    $("#rs1").show();
                    $("#rs2").show();
                    $("#roof_shape1").html(response['results'][0]['roof_shape']);
                    $("#roof_shape2").html(response['results'][0]['roof_shape']);
                    check_flag=1;
                }




                if(response['results'][0]['roof_frame']=='' || response['results'][0]['roof_frame']==null)
                {
                    $("#rf1").hide();
                    $("#rf2").hide();
                }

                else{

                    $("#rf1").show();
                    $("#rf2").show();
                    $("#roof_frame1").html(response['results'][0]['roof_frame']);
                    $("#roof_frame2").html(response['results'][0]['roof_frame']);
                    check_flag=1;
                }



                if(response['results'][0]['roof_material']=='' || response['results'][0]['roof_material']==null)
                {
                    $("#rm1").hide();
                    $("#rm2").hide();
                }

                else{

                    $("#rm1").show();
                    $("#rm2").show();
                    $("#roof_material1").html(response['results'][0]['roof_material']);
                    $("#roof_material2").html(response['results'][0]['roof_material']);
                    check_flag=1;
                }



                if(response['results'][0]['no_of_stories']=='' || response['results'][0]['no_of_stories']==null)
                {
                    $("#noos1").hide();
                    $("#noos2").hide();
                }

                else{

                    $("#noos1").show();
                    $("#noos2").show();
                    $("#no_of_stories1").html(response['results'][0]['no_of_stories']);
                    $("#no_of_stories2").html(response['results'][0]['no_of_stories']);
                    check_flag=1;
                }


                if(response['results'][0]['zoning']=='' || response['results'][0]['zoning']==null)
                {
                    $("#z1").hide();
                    $("#z2").hide();
                }

                else{

                    $("#z1").show();
                    $("#z2").show();
                    $("#zoning1").html(response['results'][0]['zoning']);
                    $("#zoning2").html(response['results'][0]['zoning']);
                    check_flag=1;
                }





                if (check_flag==1)
                {
                    $("#check_ease_of_installation1").show();
                    $("#check_ease_of_installation2").show();
                    check_flag=0;
                }
                else
                {
                    $("#check_ease_of_installation1").hide();
                    $("#check_ease_of_installation2").hide();
                }

                if(response['results'][0]['delineate']=='' || response['results'][0]['delineate']==null )
                {
                    $("#d1").hide();
                    $("#d2").hide();
                }

                else{

                    $("#d1").show();
                    $("#d2").show();
                    if (response['results'][0]['delineate']>= 101 && response['results'][0]['delineate']<= 105)
                    {
                        $("#delineate1").html('Assimilating New Americans');
                        $("#delineate2").html('Assimilating New Americans');
                    }
                    else if(response['results'][0]['delineate']>= 201 && response['results'][0]['delineate']<= 207)
                    {
                        $("#delineate1").html('Mid-Market America');
                        $("#delineate2").html('Mid-Market America');
                    }
                    else if(response['results'][0]['delineate']>= 301 && response['results'][0]['delineate']<= 307)
                    {
                        $("#delineate1").html('High Society');
                        $("#delineate2").html('High Society');
                    }

                    else if (response['results'][0]['delineate']>= 401 && response['results'][0]['delineate']<= 406)
                    {
                        $("#delineate1").html('Blue Collar America');
                        $("#delineate2").html('Blue Collar America');
                    }
                    else if(response['results'][0]['delineate']>= 501 && response['results'][0]['delineate']<= 506)
                    {
                        $("#delineate1").html('The High and Mighty');
                        $("#delineate2").html('The High and Mighty');
                    }
                    else if(response['results'][0]['delineate']>= 601 && response['results'][0]['delineate']<= 604)
                    {
                        $("#delineate1").html('In Town Homeowners');
                        $("#delineate2").html('In Town Homeowners');
                    }
                    else if(response['results'][0]['delineate']>= 701 && response['results'][0]['delineate']<= 704)
                    {
                        $("#delineate1").html('Struggling to Get Ahead');
                        $("#delineate2").html('Struggling to Get Ahead');
                    }
                    else if(response['results'][0]['delineate']>= 801 && response['results'][0]['delineate']<= 803)
                    {
                        $("#delineate1").html('New Americans');
                        $("#delineate2").html('New Americans');
                    }
                    else if(response['results'][0]['delineate']>= 901 && response['results'][0]['delineate']<= 904)
                    {
                        $("#delineate1").html('Economic Casualties');
                        $("#delineate2").html('Economic Casualties');
                    }

                    else if(response['results'][0]['delineate']>= 1001 && response['results'][0]['delineate']<= 1006)
                    {
                        $("#delineate1").html("The 'Burbs");
                        $("#delineate2").html("The 'Burbs");
                    }

                    check_flag=1;
                }



                if(response['results'][0]['AIQ_Green']=='' || response['results'][0]['AIQ_Green']==null )
                {
                    $("#glm1").hide();
                    $("#glm2").hide();
                }

                else{

                    $("#glm1").show();
                    $("#glm2").show();

                    if (response['results'][0]['AIQ_Green']<= 25)
                    {
                        $("#green_living_model1").html('Hardly');
                        $("#green_living_model2").html('Hardly');
                    }
                    else if(response['results'][0]['AIQ_Green']<= 50)
                    {
                        $("#green_living_model1").html('Not very');
                        $("#green_living_model2").html('Not very');
                    }
                    else if(response['results'][0]['AIQ_Green']<= 75)
                    {
                        $("#green_living_model1").html('Somewhat');
                        $("#green_living_model2").html('Somewhat');
                    }
                    else
                    {
                        $("#green_living_model1").html('Very');
                        $("#green_living_model2").html('Very');
                    }
                    check_flag=1;
                }



                if(response['results'][0]['Homeowner_pct_z4']=='' || response['results'][0]['Homeowner_pct_z4']==null )
                {
                    $("#hp1").hide();
                    $("#hp2").hide();
                }

                else{

                    $("#hp1").show();
                    $("#hp2").show();
                    $("#homeowner_penetration1").html(response['results'][0]['Homeowner_pct_z4']+'%');
                    $("#homeowner_penetration1").html(response['results'][0]['Homeowner_pct_z4']+'%');
                    check_flag=1;
                }



                if(response['results'][0]['Age_z4']=='' || response['results'][0]['Age_z4']==null )
                {
                    $("#hoha1").hide();
                    $("#hoha2").hide();
                }

                else{

                    $("#hoha1").show();
                    $("#hoha2").show();
                    $("#head_of_household_age1").html(response['results'][0]['Age_z4']+' years');
                    $("#head_of_household_age2").html(response['results'][0]['Age_z4']+' years');
                    check_flag=1;
                }






                if (check_flag==1)
                {
                    $("#check_area_profile1").show();
                    $("#check_area_profile2").show();
                    check_flag=0;
                }
                else
                {
                    $("#check_area_profile1").hide();
                    $("#check_area_profile2").hide();
                }



                if (response['zipeverythingelse'].length > 0) {
                    check_flag=1;

                    $("#solar_homes1").html(response['zipeverythingelse'][0]['no_of_solar_homes']);
                    $("#3rd_party1").html(response['zipeverythingelse'][0]['3rd_party_owned_system']+'%');
                    $("#average_system1").html(parseFloat(response['zipeverythingelse'][0]['average_system_size']).toFixed(2)+'kW');

                    $("#solar_homes2").html(response['zipeverythingelse'][0]['no_of_solar_homes']);
                    $("#3rd_party2").html(response['zipeverythingelse'][0]['3rd_party_owned_system']+'%');
                    $("#average_system2").html(parseFloat(response['zipeverythingelse'][0]['average_system_size']).toFixed(2)+'kW');
                }

                if (response['topinstaller'].length > 0) {
                    check_flag=1;
                    for ( i = 0; i < response['topinstaller'].length; i++) {

                        $("#installer1" + i).html((i+1)+'. '+response['topinstaller'][i]['installers']);
                        $("#installer2" + i).html((i+1)+'. '+response['topinstaller'][i]['installers']);

                    }
                }

                else {
                    for ( i = 0; i < 5; i++) {

                        $("#installer1" + i).html("");
                        $("#installer2" + i).html("");

                    }

                    $("#solar_homes1").html('');
                    $("#3rd_party1").html('');
                    $("#average_system1").html('');

                    $("#solar_homes2").html('');
                    $("#3rd_party2").html('');
                    $("#average_system2").html('');
                }

                if (response['toppanelbrands'].length > 0) {

                    check_flag=1;
                    for ( i = 0; i < response['toppanelbrands'].length; i++) {

                        $("#panel1" + i).html((i+1)+'. '+response['toppanelbrands'][i]['panel_brands']);
                        $("#panel2" + i).html((i+1)+'. '+response['toppanelbrands'][i]['panel_brands']);

                    }
                }

                else {
                    for ( i = 0; i < 3; i++) {

                        $("#panel1" + i).html("");
                        $("#panel2" + i).html("");

                    }

                    $("#solar_homes1").html('');
                    $("#3rd_party1").html('');
                    $("#average_system1").html('');

                    $("#solar_homes2").html('');
                    $("#3rd_party2").html('');
                    $("#average_system2").html('');
                }

                if (response['topinverterbrands'].length > 0) {

                    check_flag=1;
                    for ( i = 0; i < response['topinverterbrands'].length; i++) {

                        $("#inverter1" + i).html((i+1)+'. '+response['topinverterbrands'][i]['inverter_brands']);
                        $("#inverter2" + i).html((i+1)+'. '+response['topinverterbrands'][i]['inverter_brands']);

                    }
                }
                else {
                    for ( i = 0; i < 3; i++) {

                        $("#inverter1" + i).html("");
                        $("#inverter2" + i).html("");

                    }

                    $("#solar_homes1").html('');
                    $("#3rd_party1").html('');
                    $("#average_system1").html('');

                    $("#solar_homes2").html('');
                    $("#3rd_party2").html('');
                    $("#average_system2").html('');
                }

                if (check_flag==1)
                {
                    $("#check_solar_adoption1").show();
                    $("#check_solar_adoption2").show();
                    check_flag=0;
                }
                else
                {
                    $("#check_solar_adoption1").hide();
                    $("#check_solar_adoption2").hide();
                }


            }

        });

    }


    function check() {
        var input = document.getElementById('loc_search').value;

        $.ajax({
            type : "Post",
            url : "http://maps.google.com/maps/api/geocode/json?sensor=false&address=" + input,
            dataType : "JSON",
            async : false,
            success : function(response) {

                checkaddress(response);

            },

            error : function(error) {

            }
        });

    }


    function makepurchase() {

       $('#myModal').modal('hide');
       setTimeout(function() {
                map.setZoom(21);
                map.panToWithOffset(position3, -parseInt($('#panel_container').width()/2), 0);
            }, 3000);
       
       // $('#loadingimage').show();
       // $("#panel_search_result").hide();
        $("#prev_chk").hide();
        $("#check_show_money1").hide();
        $("#check_show_money2").hide();

        $("#check_electricity1").hide();
        $("#check_electricity2").hide();

        $("#check_ease_of_installation1").hide();
        $("#check_ease_of_installation2").hide();


        $("#check_need_to_know1").hide();
        $("#check_need_to_know2").hide();


        $("#check_solar_adoption1").hide();
        $("#check_solar_adoption2").hide();


        $("#check_area_profile1").hide();
        $("#check_area_profile2").hide();


        $('#utilityspan1').html('');
        $('#utilityspan2').html('');

        $("#owner_name1").html('');
        $("#owner_name2").html('');

        $("#mailing_address1").html('');
        $("#mailing_address2").html('');

        $("#owner_occupied1").html('');
        $("#owner_occupied2").html('');

        $("#last_sale_date1").html('');
        $("#last_sale_date2").html('');

        $("#last_sale_price1").html('');
        $("#last_sale_price2").html('');

        $("#last_sale_price_per_sqrft1").html('');
        $("#last_sale_price_per_sqrft2").html('');

        $("#land_use_code1").html('');
        $("#land_use_code2").html('');

        $("#zoning1").html('');
        $("#zoning2").html('');

        $("#residential_per_common_units1").html('');
        $("#residential_per_common_units2").html('');

        $("#gross_area1").html('');
        $("#gross_area2").html('');

        $("#living_area1").html('');
        $("#living_area2").html('');

        $("#no_of_bedroom1").html('');
        $("#no_of_bedroom2").html('');

        $("#no_of_bathroom1").html('');
        $("#no_of_bathroom1").html('');

        $("#age_of_home1").html('');
        $("#age_of_home2").html('');

        $("#pool1").html('');
        $("#pool2").html('');

        $("#heat_type1").html('');
        $("#heat_type2").html('');

        $("#heat_fuel1").html('');
        $("#heat_fuel2").html('');

        $("#roof_type1").html('');
        $("#roof_type2").html('');

        $("#roof_shape1").html('');
        $("#roof_shape2").html('');

        $("#roof_frame1").html('');
        $("#roof_frame2").html('');

        $("#roof_material1").html('');
        $("#roof_material2").html('');

        $("#roof_condition1").html('');
        $("#roof_condition2").html('');


        $("#est_credit_score1").html('');
        $("#est_credit_score2").html('');

        $("#est_annual_income1").html('');
        $("#est_annual_income2").html('');


        cameraposition();

    }




    function setValueNewTranscation(input){


        for ( i = 0; i < 5; i++) {

            $("#installer1" + i).html("");
            $("#installer2" + i).html("");
        }
        for ( i = 0; i < 3; i++) {
            $("#panel1" + i).html("");
            $("#panel2" + i).html("");

            $("#inverter1" + i).html("");
            $("#inverter2" + i).html("");

        }


        input1 = input.split(",");
        var secondline=''

        for(i=1; i< (input1.length-1); i++)
        {
            secondline=secondline+input1[i]+' ';
        }

        $("#panel_search_result").html(input1[0]+'<br>'+secondline);


        $.ajax({
            url : "/homes/alldatafetchonmarkernewtrans",
            type : "POST",
            dataType : 'JSON',
            data : {
                'address' :input
            },
            success : function(response) {

                zipcode = response['transaction'][0]['zip'];
                citycode = response['transaction'][0]['city'];

                // $("#prev_chk").show();
                // $("#prev_checks").html(response['transaction'][0]['prev_check']);	

                var check_flag=0;

                if (response['transaction'].length > 0){



                    var  ipq_check=response['transaction'][0]['prev_check'];

                    var arr=('<%=session[:company_email] %>').split('@')

                    if (ipq_check >'0' &&  arr[1]=='prospectzen.com' )
                    {
                        ipq_chk=ipq_check
                    }
                    else if (ipq_check<='1')
                    {
                        ipq_chk="You're the first"
                    }
                    else
                    {
                        ipq_chk=ipq_check-1;
                    }



                    $("#prev_checks1").html(ipq_chk);
                    $("#prev_checks2").html(ipq_chk);
                    check_flag=1;


                    if(response['transaction'][0]['owner_name']=='' || response['transaction'][0]['owner_name']==null )
                    {
                        $("#own1").hide();
                        $("#own2").hide();
                    }

                    else{

                        $("#own1").show();
                        $("#own2").show();
                        $("#owner_name1").html(response['transaction'][0]['owner_name']);
                        $("#owner_name2").html(response['transaction'][0]['owner_name']);
                        check_flag=1;
                    }



                    if(response['transaction'][0]['mailing_address']=='' || response['transaction'][0]['mailing_address']==null)
                    {
                        $("#ma1").hide();
                        $("#ma2").hide();
                    }

                    else{

                        $("#ma1").show();
                        $("#ma2").show();
                        $("#mailing_address1").html(response['transaction'][0]['mailing_address']);
                        $("#mailing_address2").html(response['transaction'][0]['mailing_address']);
                        check_flag=1;
                    }



                    if(response['transaction'][0]['owner_occupied_indicator']=='' || response['transaction'][0]['owner_occupied_indicator']==null)
                    {
                        $("#oo1").hide();
                        $("#oc2").hide();
                    }

                    else{

                        $("#oo1").show();
                        $("#oo2").show();

                        if (response['transaction'][0]['owner_occupied_indicator']==1)
                        {
                            $("#owner_occupied1").html('Yes');
                            $("#owner_occupied2").html('Yes');
                        }
                        else
                        {
                            $("#owner_occupied1").html('No');
                            $("#owner_occupied2").html('No');
                        }
                        check_flag=1;
                    }

                    if(response['transaction'][0]['land_use_code']=='' || response['transaction'][0]['land_use_code']==null)
                    {
                        $("#luc1").hide();
                        $("#luc2").hide();
                    }

                    else{
                        $("#luc1").show();
                        $("#luc2").show();
                        if (response['transaction'][0]['land_use_code']=='SFR' || response['transaction'][0]['land_use_code']=='Sfr')
                        {
                            $("#land_use_code1").html('Single Family Home');
                            $("#land_use_code2").html('Single Family Home');
                        }
                        else
                        {
                            $("#land_use_code1").html(response['transaction'][0]['land_use_code']);
                            $("#land_use_code2").html(response['transaction'][0]['land_use_code']);
                        }

                        check_flag=1;
                    }


                    if(response['transaction'][0]['no_of_residential_per_common_units']=='' || response['transaction'][0]['no_of_residential_per_common_units']==null)
                    {
                        $("#rpcu1").hide();
                        $("#rpcu2").hide();
                    }

                    else{

                        $("#rpcu1").show();
                        $("#rpcu2").show();
                        $("#residential_per_common_units1").html(response['transaction'][0]['no_of_residential_per_common_units']);
                        $("#residential_per_common_units2").html(response['transaction'][0]['no_of_residential_per_common_units']);
                        check_flag=1;
                    }

                    if(response['transaction'][0]['Premoves']=='' || response['transaction'][0]['Premoves']==null )
                    {
                        $("#lor1").hide();
                        $("#lor2").hide();
                    }

                    else{

                        $("#lor1").show();
                        $("#lor2").show();
                        if (response['transaction'][0]['Premoves']<= 25)
                        {
                            $("#likelihood_of_relocation1").html("Very Unlikely");
                            $("#likelihood_of_relocation2").html("Very Unlikely");
                        }
                        else if(response['transaction'][0]['Premoves']<= 50)
                        {
                            $("#likelihood_of_relocation1").html("Unlikely");
                            $("#likelihood_of_relocation2").html("Unlikely");
                        }
                        else if(response['transaction'][0]['Premoves']<= 75)
                        {
                            $("#likelihood_of_relocation1").html("Somewhat");
                            $("#likelihood_of_relocation2").html("Somewhat");
                        }
                        else
                        {
                            $("#likelihood_of_relocation1").html("Very");
                            $("#likelihood_of_relocation2").html("Very");
                        }
                        check_flag=1;
                    }

                    if(response['owned']=='' || response['owned']==null)
                    {
                        $("#lsd1").hide();
                        $("#lsd2").hide();
                    }

                    else{

                        $("#lsd1").show();
                        $("#lsd2").show();
                        $("#last_sale_date1").html(response['owned']);
                        $("#last_sale_date2").html(response['owned']);
                        check_flag=1;
                    }




                    // if(response['transaction'][0]['ResidenceTime_z4']=='' || response['transaction'][0]['ResidenceTime_z4']==null )
                    // {
                    // $("#tar1").hide();
                    // $("#tar2").hide();
                    // }
// 		                        
                    // else{
// 		                        	
                    // $("#tar1").show();
                    // $("#tar2").show();
                    // $("#time_at_residence1").html(response['transaction'][0]['ResidenceTime_z4']);
                    // $("#time_at_residence2").html(response['transaction'][0]['ResidenceTime_z4']);
                    // check_flag=1;
                    // }
// 		     		                      
                    // if(response['transaction'][0]['MortgageAmount_z4']=='' || response['transaction'][0]['MortgageAmount_z4']==null )
                    // {
                    // $("#aom1").hide();
                    // $("#aom2").hide();
                    // }
// 		                        
                    // else{
// 		                        	
                    // $("#aom1").show();
                    // $("#aom2").show();
                    // $("#amount_of_mortgage1").html(response['transaction'][0]['MortgageAmount_z4']);
                    // $("#amount_of_mortgage2").html(response['transaction'][0]['MortgageAmount_z4']);
                    // check_flag=1;
                    // }
// 		     		                      
// 		                      
// 
// 		     		                      		                      
                    // if(response['transaction'][0]['Loantovalue_z4']=='' || response['transaction'][0]['Loantovalue_z4']==null )
                    // {
                    // $("#lbthvr1").hide();
                    // $("#lbthvr2").hide();
                    // }
// 		                        
                    // else{
// 		                        	
                    // $("#lbthvr1").show();
                    // $("#lbthvr2").show();
                    // $("#loan_balance_to_home_value_ratio1").html(response['transaction'][0]['Loantovalue_z4']);
                    // $("#loan_balance_to_home_value_ratio2").html(response['transaction'][0]['Loantovalue_z4']);
                    // check_flag=1;
                    // }
// 		     		                      
                    // if(response['transaction'][0]['IncomeIQ_plus_z4']=='' || response['transaction'][0]['IncomeIQ_plus_z4']==null )
                    // {
                    // $("#is1").hide();
                    // $("#is2").hide();
                    // }
// 		                        
                    // else{
// 		                        	
                    // $("#is1").show();
                    // $("#is2").show();
                    // $("#income_score1").html(response['transaction'][0]['IncomeIQ_plus_z4']);
                    // $("#income_score2").html(response['transaction'][0]['IncomeIQ_plus_z4']);
                    // check_flag=1;
                    // }
// 		     		                      
// 		      
// 	                      
                    // if(response['transaction'][0]['NumberofadultsinZip4']=='' || response['transaction'][0]['NumberofadultsinZip4']==null )
                    // {
                    // $("#aiz1").hide();
                    // $("#aiz2").hide();
                    // }
// 		                        
                    // else{
// 		                        	
                    // $("#aiz1").show();
                    // $("#aiz2").show();
                    // $("#adults_in_zip1").html(response['transaction'][0]['NumberofadultsinZip4']);
                    // $("#adults_in_zip2").html(response['transaction'][0]['NumberofadultsinZip4']);
                    // check_flag=1;
                    // }


                    if (check_flag==1)
                    {
                        $("#check_need_to_know1").show();
                        $("#check_need_to_know2").show();
                        check_flag=0;
                    }
                    else
                    {
                        $("#check_need_to_know1").hide();
                        $("#check_need_to_know2").hide();
                    }





                    if(response['transaction'][0]['heat_type']=='' || response['transaction'][0]['heat_type']==null)
                    {
                        $("#ht1").hide();
                        $("#ht2").hide();
                    }

                    else{

                        $("#ht1").show();
                        $("#ht2").show();
                        $("#heat_type1").html(response['transaction'][0]['heat_type']);
                        $("#heat_type2").html(response['transaction'][0]['heat_type']);
                        check_flag=1;
                    }


                    if(response['transaction'][0]['heat_fuel']=='' || response['transaction'][0]['heat_fuel']==null)
                    {
                        $("#hf1").hide();
                        $("#hf2").hide();
                    }

                    else{

                        $("#hf1").show();
                        $("#hf2").show();
                        $("#heat_fuel1").html(response['transaction'][0]['heat_fuel']);
                        $("#heat_fuel2").html(response['transaction'][0]['heat_fuel']);
                        check_flag=1;
                    }



                    if(response['age']=='' || response['age']==null)
                    {
                        //    alert(response['age']);
                        $("#aoh1").hide();
                        $("#aoh2").hide();
                    }

                    else{
                        // alert(response['age']);
                        $("#aoh1").show();
                        $("#aoh2").show();
                        $("#age_of_home1").html(response['age']+' years');
                        $("#age_of_home2").html(response['age']+' years');
                        check_flag=1;
                    }



                    if(response['transaction'][0]['PersonsatResidence_z4']=='' || response['transaction'][0]['PersonsatResidence_z4']==null )
                    {
                        $("#pl1").hide();
                        $("#pl2").hide();
                    }

                    else{

                        $("#pl1").show();
                        $("#pl2").show();
                        $("#persons_living1").html(response['transaction'][0]['PersonsatResidence_z4']);
                        $("#persons_living2").html(response['transaction'][0]['PersonsatResidence_z4']);
                        check_flag=1;
                    }


                    if(response['transaction'][0]['gross_area']=='' || response['transaction'][0]['gross_area']==null)
                    {
                        $("#ga1").hide();
                        $("#ga2").hide();
                    }

                    else{

                        $("#ga1").show();
                        $("#ga2").show();
                        $("#gross_area1").html(response['transaction'][0]['gross_area']+' sqft');
                        $("#gross_area2").html(response['transaction'][0]['gross_area']+' sqft');
                        check_flag=1;
                    }




                    if((response['transaction'][0]['no_of_bedrooms']=='' || response['transaction'][0]['no_of_bedrooms']==null) && (response['transaction'][0]['no_of_bathrooms']=='' || response['transaction'][0]['no_of_bathrooms']==null))
                    {
                        $("#nobed1").hide();
                        $("#nobed2").hide();
                    }

                    else{

                        $("#nobed1").show();
                        $("#nobed2").show();


                        $("#no_of_bedroom1").html(response['transaction'][0]['no_of_bedrooms']+'/'+response['transaction'][0]['no_of_bathrooms']);
                        $("#no_of_bedroom2").html(response['transaction'][0]['no_of_bedrooms']+'/'+response['transaction'][0]['no_of_bathrooms']);
                        check_flag=1;
                    }





                    if(response['transaction'][0]['pool']=='' || response['transaction'][0]['pool']==null)
                    {
                        $("#po1").hide();
                        $("#po2").hide();
                    }

                    else{

                        $("#po1").show();
                        $("#po2").show();

                        if (response['transaction'][0]['pool']==1)
                        {
                            $("#pool1").html('Yes');
                            $("#pool2").html('Yes');
                        }
                        else
                        {
                            $("#pool1").html('No');
                            $("#pool2").html('No');
                        }
                        check_flag=1;
                    }



                    if (response['utility'].length > 0) {
                        var str = ''
                        for ( i = 0; i < response['utility'].length; i++) {

                            str += response['utility'][i]['utility'] + '<br>';
                        }

                        $("#utility1").show();
                        $("#utility2").show();
                        $("#utilityspan1").html(str);
                        $("#utilityspan2").html(str);
                        check_flag=1;
                    }

                    else{
                        $("#utility1").hide();
                        $("#utility2").hide();

                    }




                    // if(response['transaction'][0]['last_sale_price_per_sqr_ft']=='' || response['transaction'][0]['last_sale_price_per_sqr_ft']==null)
                    // {
                    // $("#lspps1").hide();
                    // $("#lspps2").hide();
                    // }
// 		                        
                    // else{
// 		                        	
                    // $("#lspps1").show();
                    // $("#lspps2").show();
                    // $("#last_sale_price_per_sqrft1").html(response['transaction'][0]['last_sale_price_per_sqr_ft']);
                    // $("#last_sale_price_per_sqrft2").html(response['transaction'][0]['last_sale_price_per_sqr_ft']);
                    // check_flag=1;
                    // }





                    if (check_flag==1)
                    {
                        $("#check_electricity1").show();
                        $("#check_electricity2").show();
                        check_flag=0;
                    }
                    else
                    {
                        $("#check_electricity1").hide();
                        $("#check_electricity2").hide();
                    }



                    if(response['transaction'][0]['riskiq3']=='' || response['transaction'][0]['riskiq3']==null )
                    {
                        $("#ecs1").hide();
                        $("#ecs2").hide();
                    }

                    else{

                        $("#ecs1").show();
                        $("#ecs2").show();


                        if (response['transaction'][0]['riskiq3']<= 36)
                        {
                            $("#est_credit_score1").html('<650');
                            $("#est_credit_score2").html('<650');
                        }
                        else if(response['transaction'][0]['riskiq3']<= 50)
                        {
                            $("#est_credit_score1").html('650-700');
                            $("#est_credit_score2").html('650-700');
                        }
                        else if(response['transaction'][0]['riskiq3']<= 64)
                        {
                            $("#est_credit_score1").html('700-750');
                            $("#est_credit_score2").html('700-750');
                        }

                        else if(response['transaction'][0]['riskiq3']<= 83)
                        {
                            $("#est_credit_score1").html('750-800');
                            $("#est_credit_score2").html('750-800');
                        }

                        else
                        {
                            $("#est_credit_score1").html('800+');
                            $("#est_credit_score2").html('800+');
                        }

                        check_flag=1;
                    }

                    if(response['transaction'][0]['IncomeIQ_Dol']=='' || response['transaction'][0]['IncomeIQ_Dol']==null )
                    {
                        $("#i1").hide();
                        $("#i2").hide();
                    }

                    else{

                        $("#i1").show();
                        $("#i2").show();

                        var str="";
                        str='$'+(response['transaction'][0]['IncomeIQ_Dol']*1000);
                        str=str.replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1,");
                        $("#income1").html(str);
                        $("#income2").html(str);

                        check_flag=1;
                    }

                    if(response['transaction'][0]['Homeequity_pc_z4']=='' || response['transaction'][0]['Homeequity_pc_z4']==null )
                    {
                        $("#hethvr1").hide();
                        $("#hethvr2").hide();
                    }

                    else{

                        $("#hethvr1").show();
                        $("#hethvr2").show();
                        $("#home_equity_to_home_value_ratio1").html(response['transaction'][0]['Homeequity_pc_z4']+'%');
                        $("#home_equity_to_home_value_ratio2").html(response['transaction'][0]['Homeequity_pc_z4']+'%');
                        check_flag=1;
                    }


                    if(response['transaction'][0]['DebtRatio']=='' || response['transaction'][0]['DebtRatio']==null )
                    {
                        $("#dtir1").hide();
                        $("#dtir2").hide();
                    }

                    else{

                        $("#dtir1").show();
                        $("#dtir2").show();
                        $("#debt_to_income_ratio1").html(response['transaction'][0]['DebtRatio']+'%');
                        $("#debt_to_income_ratio2").html(response['transaction'][0]['DebtRatio']+'%');
                        check_flag=1;
                    }



                    if(response['transaction'][0]['last_sale_price']=='' || response['transaction'][0]['last_sale_price']==null)
                    {
                        $("#lsp1").hide();
                        $("#lsp2").hide();
                    }

                    else{

                        $("#lsp1").show();
                        $("#lsp2").show();


                        var str="";
                        str='$'+response['transaction'][0]['last_sale_price'];
                        str=str.replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1,");
                        $("#last_sale_price1").html(str);
                        $("#last_sale_price2").html(str);

                        check_flag=1;
                    }





                    if (check_flag==1)
                    {
                        $("#check_show_money1").show();
                        $("#check_show_money2").show();
                        check_flag=0;
                    }
                    else
                    {
                        $("#check_show_money1").hide();
                        $("#check_show_money2").hide();
                    }






                    if(response['transaction'][0]['roof_type']=='' || response['transaction'][0]['roof_type']==null)
                    {
                        $("#rt1").hide();
                        $("#rt2").hide();
                    }

                    else{

                        $("#rt1").show();
                        $("#rt2").show();
                        $("#roof_type1").html(response['transaction'][0]['roof_type']);
                        $("#roof_type2").html(response['transaction'][0]['roof_type']);
                        check_flag=1;
                    }



                    if(response['transaction'][0]['roof_shape']=='' || response['transaction'][0]['roof_shape']==null)
                    {
                        $("#rs1").hide();
                        $("#rs2").hide();
                    }

                    else{

                        $("#rs1").show();
                        $("#rs2").show();
                        $("#roof_shape1").html(response['transaction'][0]['roof_shape']);
                        $("#roof_shape2").html(response['transaction'][0]['roof_shape']);
                        check_flag=1;
                    }




                    if(response['transaction'][0]['roof_frame']=='' || response['transaction'][0]['roof_frame']==null)
                    {
                        $("#rf1").hide();
                        $("#rf2").hide();
                    }

                    else{

                        $("#rf1").show();
                        $("#rf2").show();
                        $("#roof_frame1").html(response['transaction'][0]['roof_frame']);
                        $("#roof_frame2").html(response['transaction'][0]['roof_frame']);
                        check_flag=1;
                    }



                    if(response['transaction'][0]['roof_material']=='' || response['transaction'][0]['roof_material']==null)
                    {
                        $("#rm1").hide();
                        $("#rm2").hide();
                    }

                    else{

                        $("#rm1").show();
                        $("#rm2").show();
                        $("#roof_material1").html(response['transaction'][0]['roof_material']);
                        $("#roof_material2").html(response['transaction'][0]['roof_material']);
                        check_flag=1;
                    }



                    if(response['transaction'][0]['no_of_stories']=='' || response['transaction'][0]['no_of_stories']==null)
                    {
                        $("#noos1").hide();
                        $("#noos2").hide();
                    }

                    else{

                        $("#noos1").show();
                        $("#noos2").show();
                        $("#no_of_stories1").html(response['transaction'][0]['no_of_stories']);
                        $("#no_of_stories2").html(response['transaction'][0]['no_of_stories']);
                        check_flag=1;
                    }


                    if(response['transaction'][0]['zoning']=='' || response['transaction'][0]['zoning']==null)
                    {
                        $("#z1").hide();
                        $("#z2").hide();
                    }

                    else{

                        $("#z1").show();
                        $("#z2").show();
                        $("#zoning1").html(response['transaction'][0]['zoning']);
                        $("#zoning2").html(response['transaction'][0]['zoning']);
                        check_flag=1;
                    }



                    if (check_flag==1)
                    {
                        $("#check_ease_of_installation1").show();
                        $("#check_ease_of_installation2").show();
                        check_flag=0;
                    }
                    else
                    {
                        $("#check_ease_of_installation1").hide();
                        $("#check_ease_of_installation2").hide();
                    }




                    if(response['transaction'][0]['delineate']=='' || response['transaction'][0]['delineate']==null )
                    {
                        $("#d1").hide();
                        $("#d2").hide();
                    }

                    else{

                        $("#d1").show();
                        $("#d2").show();
                        if (response['transaction'][0]['delineate']>= 101 && response['transaction'][0]['delineate']<= 105)
                        {
                            $("#delineate1").html('Assimilating New Americans');
                            $("#delineate2").html('Assimilating New Americans');
                        }
                        else if(response['transaction'][0]['delineate']>= 201 && response['transaction'][0]['delineate']<= 207)
                        {
                            $("#delineate1").html('Mid-Market America');
                            $("#delineate2").html('Mid-Market America');
                        }
                        else if(response['transaction'][0]['delineate']>= 301 && response['transaction'][0]['delineate']<= 307)
                        {
                            $("#delineate1").html('High Society');
                            $("#delineate2").html('High Society');
                        }

                        else if (response['transaction'][0]['delineate']>= 401 && response['transaction'][0]['delineate']<= 406)
                        {
                            $("#delineate1").html('Blue Collar America');
                            $("#delineate2").html('Blue Collar America');
                        }
                        else if(response['transaction'][0]['delineate']>= 501 && response['transaction'][0]['delineate']<= 506)
                        {
                            $("#delineate1").html('The High and Mighty');
                            $("#delineate2").html('The High and Mighty');
                        }
                        else if(response['transaction'][0]['delineate']>= 601 && response['transaction'][0]['delineate']<= 604)
                        {
                            $("#delineate1").html('In Town Homeowners');
                            $("#delineate2").html('In Town Homeowners');
                        }
                        else if(response['transaction'][0]['delineate']>= 701 && response['transaction'][0]['delineate']<= 704)
                        {
                            $("#delineate1").html('Struggling to Get Ahead');
                            $("#delineate2").html('Struggling to Get Ahead');
                        }
                        else if(response['transaction'][0]['delineate']>= 801 && response['transaction'][0]['delineate']<= 803)
                        {
                            $("#delineate1").html('New Americans');
                            $("#delineate2").html('New Americans');
                        }
                        else if(response['transaction'][0]['delineate']>= 901 && response['transaction'][0]['delineate']<= 904)
                        {
                            $("#delineate1").html('Economic Casualties');
                            $("#delineate2").html('Economic Casualties');
                        }

                        else if(response['transaction'][0]['delineate']>= 1001 && response['transaction'][0]['delineate']<= 1006)
                        {
                            $("#delineate1").html("The 'Burbs");
                            $("#delineate2").html("The 'Burbs");
                        }

                        check_flag=1;
                    }



                    if(response['transaction'][0]['AIQ_Green']=='' || response['transaction'][0]['AIQ_Green']==null )
                    {
                        $("#glm1").hide();
                        $("#glm2").hide();
                    }

                    else{

                        $("#glm1").show();
                        $("#glm2").show();

                        if (response['transaction'][0]['AIQ_Green']<= 25)
                        {
                            $("#green_living_model1").html('Hardly');
                            $("#green_living_model2").html('Hardly');
                        }
                        else if(response['transaction'][0]['AIQ_Green']<= 50)
                        {
                            $("#green_living_model1").html('Not very');
                            $("#green_living_model2").html('Not very');
                        }
                        else if(response['transaction'][0]['AIQ_Green']<= 75)
                        {
                            $("#green_living_model1").html('Somewhat');
                            $("#green_living_model2").html('Somewhat');
                        }
                        else
                        {
                            $("#green_living_model1").html('Very');
                            $("#green_living_model2").html('Very');
                        }
                        check_flag=1;
                    }



                    if(response['transaction'][0]['Homeowner_pct_z4']=='' || response['transaction'][0]['Homeowner_pct_z4']==null )
                    {
                        $("#hp1").hide();
                        $("#hp2").hide();
                    }

                    else{

                        $("#hp1").show();
                        $("#hp2").show();
                        $("#homeowner_penetration1").html(response['transaction'][0]['Homeowner_pct_z4']+'%');
                        $("#homeowner_penetration1").html(response['transaction'][0]['Homeowner_pct_z4']+'%');
                        check_flag=1;
                    }


                    if(response['transaction'][0]['Age_z4']=='' || response['transaction'][0]['Age_z4']==null )
                    {
                        $("#hoha1").hide();
                        $("#hoha2").hide();
                    }

                    else{

                        $("#hoha1").show();
                        $("#hoha2").show();
                        $("#head_of_household_age1").html(response['transaction'][0]['Age_z4']+' years');
                        $("#head_of_household_age2").html(response['transaction'][0]['Age_z4']+' years');
                        check_flag=1;
                    }



                    if (check_flag==1)
                    {
                        $("#check_area_profile1").show();
                        $("#check_area_profile2").show();
                        check_flag=0;
                    }
                    else
                    {
                        $("#check_area_profile1").hide();
                        $("#check_area_profile2").hide();
                    }


                }



                if (response['zipeverythingelse'].length > 0) {
                    check_flag=1;

                    $("#solar_homes1").html(response['zipeverythingelse'][0]['no_of_solar_homes']);
                    $("#3rd_party1").html(response['zipeverythingelse'][0]['3rd_party_owned_system']+'%');
                    $("#average_system1").html(parseFloat(response['zipeverythingelse'][0]['average_system_size']).toFixed(2)+'kW');

                    $("#solar_homes2").html(response['zipeverythingelse'][0]['no_of_solar_homes']);
                    $("#3rd_party2").html(response['zipeverythingelse'][0]['3rd_party_owned_system']+'%');
                    $("#average_system2").html(parseFloat(response['zipeverythingelse'][0]['average_system_size']).toFixed(2)+'kW');
                }

                if (response['topinstaller'].length > 0) {
                    check_flag=1;
                    for ( i = 0; i < response['topinstaller'].length; i++) {

                        $("#installer1" + i).html((i+1)+'. '+response['topinstaller'][i]['installers']);
                        $("#installer2" + i).html((i+1)+'. '+response['topinstaller'][i]['installers']);

                    }
                }

                else {
                    for ( i = 0; i < 5; i++) {

                        $("#installer1" + i).html("");
                        $("#installer2" + i).html("");

                    }

                    $("#solar_homes1").html('');
                    $("#3rd_party1").html('');
                    $("#average_system1").html('');

                    $("#solar_homes2").html('');
                    $("#3rd_party2").html('');
                    $("#average_system2").html('');
                }

                if (response['toppanelbrands'].length > 0) {

                    check_flag=1;
                    for ( i = 0; i < response['toppanelbrands'].length; i++) {

                        $("#panel1" + i).html((i+1)+'. '+response['toppanelbrands'][i]['panel_brands']);
                        $("#panel2" + i).html((i+1)+'. '+response['toppanelbrands'][i]['panel_brands']);

                    }
                }

                else {
                    for ( i = 0; i < 3; i++) {

                        $("#panel1" + i).html("");
                        $("#panel2" + i).html("");

                    }

                    $("#solar_homes1").html('');
                    $("#3rd_party1").html('');
                    $("#average_system1").html('');

                    $("#solar_homes2").html('');
                    $("#3rd_party2").html('');
                    $("#average_system2").html('');
                }

                if (response['topinverterbrands'].length > 0) {

                    check_flag=1;
                    for ( i = 0; i < response['topinverterbrands'].length; i++) {

                        $("#inverter1" + i).html((i+1)+'. '+response['topinverterbrands'][i]['inverter_brands']);
                        $("#inverter2" + i).html((i+1)+'. '+response['topinverterbrands'][i]['inverter_brands']);

                    }
                }
                else {
                    for ( i = 0; i < 3; i++) {

                        $("#inverter1" + i).html("");
                        $("#inverter2" + i).html("");

                    }

                    $("#solar_homes1").html('');
                    $("#3rd_party1").html('');
                    $("#average_system1").html('');

                    $("#solar_homes2").html('');
                    $("#3rd_party2").html('');
                    $("#average_system2").html('');
                }

                if (check_flag==1)
                {
                    $("#check_solar_adoption1").show();
                    $("#check_solar_adoption2").show();
                    check_flag=0;
                }
                else
                {
                    $("#check_solar_adoption1").hide();
                    $("#check_solar_adoption2").hide();
                }


            }
        });


    }


    function setValue(x)
    {


        for ( i = 0; i < 5; i++) {

            $("#installer1" + i).html("");
            $("#installer2" + i).html("");
        }

        for ( i = 0; i < 3; i++) {
            $("#panel1" + i).html("");
            $("#panel2" + i).html("");

            $("#inverter1" + i).html("");
            $("#inverter2" + i).html("");

        }

        $.ajax({
            url : "/homes/alldatafetchonmarkerclick",
            type : "POST",
            dataType : 'JSON',
            async:false,
            data : {
                'tranc' :x
                // 'zip' : zipcode
            },
            success : function(response) {

                zipcode = response['transaction'][0]['zip'];
                citycode = response['transaction'][0]['city'];

                input1=response['transaction'][0]['address'];

                input1 = input1.split(",");
                var secondline=''

                for(i=1; i< (input1.length-1); i++)
                {
                    secondline=secondline+input1[i]+' ';
                }

                $("#panel_search_result").html(input1[0]+'<br>'+secondline);
                infoBubble.setContent('<div id="sold_marker" style="color:#fff;font-family:latoreg;font-size:18px;line-height:20px;width: auto;display: table;margin: 0 auto;padding: 19px;"> <center style="text-align:left;">'+input1[0]+'<br>'+secondline+'</center></div>');

                var check_flag=0;

                if (response['transaction'].length > 0){



                    var  ipq_check=response['transaction'][0]['prev_check'];

                    var arr=('<%=session[:company_email] %>').split('@')

                    if (ipq_check >'0' &&  arr[1]=='prospectzen.com' )
                    {
                        ipq_chk=ipq_check
                    }
                    else if (ipq_check<='1')
                    {
                        ipq_chk="You're the first"
                    }
                    else
                    {
                        ipq_chk=ipq_check-1;
                    }



                    $("#prev_checks1").html(ipq_chk);
                    $("#prev_checks2").html(ipq_chk);
                    check_flag=1;


                    if(response['transaction'][0]['owner_name']=='' || response['transaction'][0]['owner_name']==null )
                    {
                        $("#own1").hide();
                        $("#own2").hide();
                    }

                    else{

                        $("#own1").show();
                        $("#own2").show();
                        $("#owner_name1").html(response['transaction'][0]['owner_name']);
                        $("#owner_name2").html(response['transaction'][0]['owner_name']);
                        check_flag=1;
                    }



                    if(response['transaction'][0]['mailing_address']=='' || response['transaction'][0]['mailing_address']==null)
                    {
                        $("#ma1").hide();
                        $("#ma2").hide();
                    }

                    else{

                        $("#ma1").show();
                        $("#ma2").show();
                        $("#mailing_address1").html(response['transaction'][0]['mailing_address']);
                        $("#mailing_address2").html(response['transaction'][0]['mailing_address']);
                        check_flag=1;
                    }



                    if(response['transaction'][0]['owner_occupied_indicator']=='' || response['transaction'][0]['owner_occupied_indicator']==null)
                    {
                        $("#oo1").hide();
                        $("#oc2").hide();
                    }

                    else{

                        $("#oo1").show();
                        $("#oo2").show();

                        if (response['transaction'][0]['owner_occupied_indicator']==1)
                        {
                            $("#owner_occupied1").html('Yes');
                            $("#owner_occupied2").html('Yes');
                        }
                        else
                        {
                            $("#owner_occupied1").html('No');
                            $("#owner_occupied2").html('No');
                        }
                        check_flag=1;
                    }


                    if(response['transaction'][0]['land_use_code']=='' || response['transaction'][0]['land_use_code']==null)
                    {
                        $("#luc1").hide();
                        $("#luc2").hide();
                    }

                    else{

                        $("#luc1").show();
                        $("#luc2").show();
                        if (response['transaction'][0]['land_use_code']=='SFR' || response['transaction'][0]['land_use_code']=='Sfr')
                        {
                            $("#land_use_code1").html('Single Family Home');
                            $("#land_use_code2").html('Single Family Home');
                        }
                        else
                        {
                            $("#land_use_code1").html(response['transaction'][0]['land_use_code']);
                            $("#land_use_code2").html(response['transaction'][0]['land_use_code']);
                        }
                        check_flag=1;
                    }


                    if(response['transaction'][0]['no_of_residential_per_common_units']=='' || response['transaction'][0]['no_of_residential_per_common_units']==null)
                    {
                        $("#rpcu1").hide();
                        $("#rpcu2").hide();
                    }

                    else{

                        $("#rpcu1").show();
                        $("#rpcu2").show();
                        $("#residential_per_common_units1").html(response['transaction'][0]['no_of_residential_per_common_units']);
                        $("#residential_per_common_units2").html(response['transaction'][0]['no_of_residential_per_common_units']);
                        check_flag=1;
                    }

                    if(response['transaction'][0]['Premoves']=='' || response['transaction'][0]['Premoves']==null )
                    {
                        $("#lor1").hide();
                        $("#lor2").hide();
                    }

                    else{

                        $("#lor1").show();
                        $("#lor2").show();
                        if (response['transaction'][0]['Premoves']<= 25)
                        {
                            $("#likelihood_of_relocation1").html("Very Unlikely");
                            $("#likelihood_of_relocation2").html("Very Unlikely");
                        }
                        else if(response['transaction'][0]['Premoves']<= 50)
                        {
                            $("#likelihood_of_relocation1").html("Unlikely");
                            $("#likelihood_of_relocation2").html("Unlikely");
                        }
                        else if(response['transaction'][0]['Premoves']<= 75)
                        {
                            $("#likelihood_of_relocation1").html("Somewhat");
                            $("#likelihood_of_relocation2").html("Somewhat");
                        }
                        else
                        {
                            $("#likelihood_of_relocation1").html("Very");
                            $("#likelihood_of_relocation2").html("Very");
                        }
                        check_flag=1;
                    }


                    if(response['owned']=='' || response['owned']==null)
                    {
                        $("#lsd1").hide();
                        $("#lsd2").hide();
                    }

                    else{

                        $("#lsd1").show();
                        $("#lsd2").show();
                        $("#last_sale_date1").html(response['owned']);
                        $("#last_sale_date2").html(response['owned']);
                        check_flag=1;
                    }


//      		                      		                      
                    // if(response['transaction'][0]['ResidenceTime_z4']=='' || response['transaction'][0]['ResidenceTime_z4']==null )
                    // {
                    // $("#tar1").hide();
                    // $("#tar2").hide();
                    // }
// 		                        
                    // else{
// 		                        	
                    // $("#tar1").show();
                    // $("#tar2").show();
                    // $("#time_at_residence1").html(response['transaction'][0]['ResidenceTime_z4']);
                    // $("#time_at_residence2").html(response['transaction'][0]['ResidenceTime_z4']);
                    // check_flag=1;
                    // }
// 		     		                      
                    // if(response['transaction'][0]['MortgageAmount_z4']=='' || response['transaction'][0]['MortgageAmount_z4']==null )
                    // {
                    // $("#aom1").hide();
                    // $("#aom2").hide();
                    // }
// 		                        
                    // else{
// 		                        	
                    // $("#aom1").show();
                    // $("#aom2").show();
                    // $("#amount_of_mortgage1").html(response['transaction'][0]['MortgageAmount_z4']);
                    // $("#amount_of_mortgage2").html(response['transaction'][0]['MortgageAmount_z4']);
                    // check_flag=1;
                    // }
// 		     		                      
// 		                      
// 	                      
// 		     		                      		                      
                    // if(response['transaction'][0]['Loantovalue_z4']=='' || response['transaction'][0]['Loantovalue_z4']==null )
                    // {
                    // $("#lbthvr1").hide();
                    // $("#lbthvr2").hide();
                    // }
// 		                        
                    // else{
// 		                        	
                    // $("#lbthvr1").show();
                    // $("#lbthvr2").show();
                    // $("#loan_balance_to_home_value_ratio1").html(response['transaction'][0]['Loantovalue_z4']);
                    // $("#loan_balance_to_home_value_ratio2").html(response['transaction'][0]['Loantovalue_z4']);
                    // check_flag=1;
                    // }
// 		     		                      
                    // if(response['transaction'][0]['IncomeIQ_plus_z4']=='' || response['transaction'][0]['IncomeIQ_plus_z4']==null )
                    // {
                    // $("#is1").hide();
                    // $("#is2").hide();
                    // }
// 		                        
                    // else{
// 		                        	
                    // $("#is1").show();
                    // $("#is2").show();
                    // $("#income_score1").html(response['transaction'][0]['IncomeIQ_plus_z4']);
                    // $("#income_score2").html(response['transaction'][0]['IncomeIQ_plus_z4']);
                    // check_flag=1;
                    // }
// 		     		                      
// 		      
// 	     		                     
// 		                      
                    // if(response['transaction'][0]['NumberofadultsinZip4']=='' || response['transaction'][0]['NumberofadultsinZip4']==null )
                    // {
                    // $("#aiz1").hide();
                    // $("#aiz2").hide();
                    // }
// 		                        
                    // else{
// 		                        	
                    // $("#aiz1").show();
                    // $("#aiz2").show();
                    // $("#adults_in_zip1").html(response['transaction'][0]['NumberofadultsinZip4']);
                    // $("#adults_in_zip2").html(response['transaction'][0]['NumberofadultsinZip4']);
                    // check_flag=1;
                    // }


                    if (check_flag==1)
                    {
                        $("#check_need_to_know1").show();
                        $("#check_need_to_know2").show();
                        check_flag=0;
                    }
                    else
                    {
                        $("#check_need_to_know1").hide();
                        $("#check_need_to_know2").hide();
                    }





                    if(response['transaction'][0]['heat_type']=='' || response['transaction'][0]['heat_type']==null)
                    {
                        $("#ht1").hide();
                        $("#ht2").hide();
                    }

                    else{

                        $("#ht1").show();
                        $("#ht2").show();
                        $("#heat_type1").html(response['transaction'][0]['heat_type']);
                        $("#heat_type2").html(response['transaction'][0]['heat_type']);
                        check_flag=1;
                    }


                    if(response['transaction'][0]['heat_fuel']=='' || response['transaction'][0]['heat_fuel']==null)
                    {
                        $("#hf1").hide();
                        $("#hf2").hide();
                    }

                    else{

                        $("#hf1").show();
                        $("#hf2").show();
                        $("#heat_fuel1").html(response['transaction'][0]['heat_fuel']);
                        $("#heat_fuel2").html(response['transaction'][0]['heat_fuel']);
                        check_flag=1;
                    }


                    if(response['age']=='' || response['age']==null)
                    {
                        //    alert(response['age']);
                        $("#aoh1").hide();
                        $("#aoh2").hide();
                    }

                    else{
                        // alert(response['age']);
                        $("#aoh1").show();
                        $("#aoh2").show();
                        $("#age_of_home1").html(response['age']+' years');
                        $("#age_of_home2").html(response['age']+' years');
                        check_flag=1;
                    }



                    if(response['transaction'][0]['PersonsatResidence_z4']=='' || response['transaction'][0]['PersonsatResidence_z4']==null )
                    {
                        $("#pl1").hide();
                        $("#pl2").hide();
                    }

                    else{

                        $("#pl1").show();
                        $("#pl2").show();
                        $("#persons_living1").html(response['transaction'][0]['PersonsatResidence_z4']);
                        $("#persons_living2").html(response['transaction'][0]['PersonsatResidence_z4']);
                        check_flag=1;
                    }


                    if(response['transaction'][0]['gross_area']=='' || response['transaction'][0]['gross_area']==null)
                    {
                        $("#ga1").hide();
                        $("#ga2").hide();
                    }

                    else{

                        $("#ga1").show();
                        $("#ga2").show();
                        $("#gross_area1").html(response['transaction'][0]['gross_area']+' sqft');
                        $("#gross_area2").html(response['transaction'][0]['gross_area']+' sqft');
                        check_flag=1;
                    }



                    if((response['transaction'][0]['no_of_bedrooms']=='' || response['transaction'][0]['no_of_bedrooms']==null) && (response['transaction'][0]['no_of_bathrooms']=='' || response['transaction'][0]['no_of_bathrooms']==null))
                    {
                        $("#nobed1").hide();
                        $("#nobed2").hide();
                    }

                    else{

                        $("#nobed1").show();
                        $("#nobed2").show();


                        $("#no_of_bedroom1").html(response['transaction'][0]['no_of_bedrooms']+'/'+response['transaction'][0]['no_of_bathrooms']);
                        $("#no_of_bedroom2").html(response['transaction'][0]['no_of_bedrooms']+'/'+response['transaction'][0]['no_of_bathrooms']);
                        check_flag=1;
                    }





                    if(response['transaction'][0]['pool']=='' || response['transaction'][0]['pool']==null)
                    {
                        $("#po1").hide();
                        $("#po2").hide();
                    }

                    else{

                        $("#po1").show();
                        $("#po2").show();

                        if (response['transaction'][0]['pool']==1)
                        {
                            $("#pool1").html('Yes');
                            $("#pool2").html('Yes');
                        }
                        else
                        {
                            $("#pool1").html('No');
                            $("#pool2").html('No');
                        }
                        check_flag=1;
                    }




                    if (response['utility'].length > 0) {
                        var str = ''
                        for ( i = 0; i < response['utility'].length; i++) {

                            str += response['utility'][i]['utility'] + '<br>';
                        }

                        $("#utility1").show();
                        $("#utility2").show();
                        $("#utilityspan1").html(str);
                        $("#utilityspan2").html(str);
                        check_flag=1;
                    }

                    else{
                        $("#utility1").hide();
                        $("#utility2").hide();

                    }







                    // if(response['transaction'][0]['last_sale_price_per_sqr_ft']=='' || response['transaction'][0]['last_sale_price_per_sqr_ft']==null)
                    // {
                    // $("#lspps1").hide();
                    // $("#lspps2").hide();
                    // }
// 		                        
                    // else{
// 		                        	
                    // $("#lspps1").show();
                    // $("#lspps2").show();
                    // $("#last_sale_price_per_sqrft1").html(response['transaction'][0]['last_sale_price_per_sqr_ft']);
                    // $("#last_sale_price_per_sqrft2").html(response['transaction'][0]['last_sale_price_per_sqr_ft']);
                    // check_flag=1;
                    // }





                    if (check_flag==1)
                    {
                        $("#check_electricity1").show();
                        $("#check_electricity2").show();
                        check_flag=0;
                    }
                    else
                    {
                        $("#check_electricity1").hide();
                        $("#check_electricity2").hide();
                    }





                    if(response['transaction'][0]['riskiq3']=='' || response['transaction'][0]['riskiq3']==null )
                    {
                        $("#ecs1").hide();
                        $("#ecs2").hide();
                    }

                    else{

                        $("#ecs1").show();
                        $("#ecs2").show();
                        if (response['transaction'][0]['riskiq3']<= 36)
                        {
                            $("#est_credit_score1").html('<650');
                            $("#est_credit_score2").html('<650');
                        }
                        else if(response['transaction'][0]['riskiq3']<= 50)
                        {
                            $("#est_credit_score1").html('650-700');
                            $("#est_credit_score2").html('650-700');
                        }
                        else if(response['transaction'][0]['riskiq3']<= 64)
                        {
                            $("#est_credit_score1").html('700-750');
                            $("#est_credit_score2").html('700-750');
                        }

                        else if(response['transaction'][0]['riskiq3']<= 83)
                        {
                            $("#est_credit_score1").html('750-800');
                            $("#est_credit_score2").html('750-800');
                        }

                        else
                        {
                            $("#est_credit_score1").html('800+');
                            $("#est_credit_score2").html('800+');
                        }

                        check_flag=1;
                    }

                    if(response['transaction'][0]['IncomeIQ_Dol']=='' || response['transaction'][0]['IncomeIQ_Dol']==null )
                    {
                        $("#i1").hide();
                        $("#i2").hide();
                    }

                    else{

                        $("#i1").show();
                        $("#i2").show();

                        var str="";
                        str='$'+(response['transaction'][0]['IncomeIQ_Dol']*1000);
                        str=str.replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1,");
                        $("#income1").html(str);
                        $("#income2").html(str);

                        check_flag=1;
                    }


                    if(response['transaction'][0]['Homeequity_pc_z4']=='' || response['transaction'][0]['Homeequity_pc_z4']==null )
                    {
                        $("#hethvr1").hide();
                        $("#hethvr2").hide();
                    }

                    else{

                        $("#hethvr1").show();
                        $("#hethvr2").show();
                        $("#home_equity_to_home_value_ratio1").html(response['transaction'][0]['Homeequity_pc_z4']+'%');
                        $("#home_equity_to_home_value_ratio2").html(response['transaction'][0]['Homeequity_pc_z4']+'%');
                        check_flag=1;
                    }


                    if(response['transaction'][0]['DebtRatio']=='' || response['transaction'][0]['DebtRatio']==null )
                    {
                        $("#dtir1").hide();
                        $("#dtir2").hide();
                    }

                    else{

                        $("#dtir1").show();
                        $("#dtir2").show();
                        $("#debt_to_income_ratio1").html(response['transaction'][0]['DebtRatio']+'%');
                        $("#debt_to_income_ratio2").html(response['transaction'][0]['DebtRatio']+'%');
                        check_flag=1;
                    }


                    if(response['transaction'][0]['last_sale_price']=='' || response['transaction'][0]['last_sale_price']==null)
                    {
                        $("#lsp1").hide();
                        $("#lsp2").hide();
                    }

                    else{

                        $("#lsp1").show();
                        $("#lsp2").show();

                        var str="";
                        str='$'+response['transaction'][0]['last_sale_price'];
                        str=str.replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1,");
                        $("#last_sale_price1").html(str);
                        $("#last_sale_price2").html(str);

                        check_flag=1;
                    }




                    if (check_flag==1)
                    {
                        $("#check_show_money1").show();
                        $("#check_show_money2").show();
                        check_flag=0;
                    }
                    else
                    {
                        $("#check_show_money1").hide();
                        $("#check_show_money2").hide();
                    }





                    if(response['transaction'][0]['roof_type']=='' || response['transaction'][0]['roof_type']==null)
                    {
                        $("#rt1").hide();
                        $("#rt2").hide();
                    }

                    else{

                        $("#rt1").show();
                        $("#rt2").show();
                        $("#roof_type1").html(response['transaction'][0]['roof_type']);
                        $("#roof_type2").html(response['transaction'][0]['roof_type']);
                        check_flag=1;
                    }



                    if(response['transaction'][0]['roof_shape']=='' || response['transaction'][0]['roof_shape']==null)
                    {
                        $("#rs1").hide();
                        $("#rs2").hide();
                    }

                    else{

                        $("#rs1").show();
                        $("#rs2").show();
                        $("#roof_shape1").html(response['transaction'][0]['roof_shape']);
                        $("#roof_shape2").html(response['transaction'][0]['roof_shape']);
                        check_flag=1;
                    }




                    if(response['transaction'][0]['roof_frame']=='' || response['transaction'][0]['roof_frame']==null)
                    {
                        $("#rf1").hide();
                        $("#rf2").hide();
                    }

                    else{

                        $("#rf1").show();
                        $("#rf2").show();
                        $("#roof_frame1").html(response['transaction'][0]['roof_frame']);
                        $("#roof_frame2").html(response['transaction'][0]['roof_frame']);
                        check_flag=1;
                    }



                    if(response['transaction'][0]['roof_material']=='' || response['transaction'][0]['roof_material']==null)
                    {
                        $("#rm1").hide();
                        $("#rm2").hide();
                    }

                    else{

                        $("#rm1").show();
                        $("#rm2").show();
                        $("#roof_material1").html(response['transaction'][0]['roof_material']);
                        $("#roof_material2").html(response['transaction'][0]['roof_material']);
                        check_flag=1;
                    }



                    if(response['transaction'][0]['no_of_stories']=='' || response['transaction'][0]['no_of_stories']==null)
                    {
                        $("#noos1").hide();
                        $("#noos2").hide();
                    }

                    else{

                        $("#noos1").show();
                        $("#noos2").show();
                        $("#no_of_stories1").html(response['transaction'][0]['no_of_stories']);
                        $("#no_of_stories2").html(response['transaction'][0]['no_of_stories']);
                        check_flag=1;
                    }




                    if(response['transaction'][0]['zoning']=='' || response['transaction'][0]['zoning']==null)
                    {
                        $("#z1").hide();
                        $("#z2").hide();
                    }

                    else{

                        $("#z1").show();
                        $("#z2").show();
                        $("#zoning1").html(response['transaction'][0]['zoning']);
                        $("#zoning2").html(response['transaction'][0]['zoning']);
                        check_flag=1;
                    }




                    if (check_flag==1)
                    {
                        $("#check_ease_of_installation1").show();
                        $("#check_ease_of_installation2").show();
                        check_flag=0;
                    }
                    else
                    {
                        $("#check_ease_of_installation1").hide();
                        $("#check_ease_of_installation2").hide();
                    }



                    if(response['transaction'][0]['delineate']=='' || response['transaction'][0]['delineate']==null )
                    {
                        $("#d1").hide();
                        $("#d2").hide();
                    }

                    else{

                        $("#d1").show();
                        $("#d2").show();


                        if (response['transaction'][0]['delineate']>= 101 && response['transaction'][0]['delineate']<= 105)
                        {
                            $("#delineate1").html('Assimilating New Americans');
                            $("#delineate2").html('Assimilating New Americans');
                        }
                        else if(response['transaction'][0]['delineate']>= 201 && response['transaction'][0]['delineate']<= 207)
                        {
                            $("#delineate1").html('Mid-Market America');
                            $("#delineate2").html('Mid-Market America');
                        }
                        else if(response['transaction'][0]['delineate']>= 301 && response['transaction'][0]['delineate']<= 307)
                        {
                            $("#delineate1").html('High Society');
                            $("#delineate2").html('High Society');
                        }

                        else if (response['transaction'][0]['delineate']>= 401 && response['transaction'][0]['delineate']<= 406)
                        {
                            $("#delineate1").html('Blue Collar America');
                            $("#delineate2").html('Blue Collar America');
                        }
                        else if(response['transaction'][0]['delineate']>= 501 && response['transaction'][0]['delineate']<= 506)
                        {
                            $("#delineate1").html('The High and Mighty');
                            $("#delineate2").html('The High and Mighty');
                        }
                        else if(response['transaction'][0]['delineate']>= 601 && response['transaction'][0]['delineate']<= 604)
                        {
                            $("#delineate1").html('In Town Homeowners');
                            $("#delineate2").html('In Town Homeowners');
                        }
                        else if(response['transaction'][0]['delineate']>= 701 && response['transaction'][0]['delineate']<= 704)
                        {
                            $("#delineate1").html('Struggling to Get Ahead');
                            $("#delineate2").html('Struggling to Get Ahead');
                        }
                        else if(response['transaction'][0]['delineate']>= 801 && response['transaction'][0]['delineate']<= 803)
                        {
                            $("#delineate1").html('New Americans');
                            $("#delineate2").html('New Americans');
                        }
                        else if(response['transaction'][0]['delineate']>= 901 && response['transaction'][0]['delineate']<= 904)
                        {
                            $("#delineate1").html('Economic Casualties');
                            $("#delineate2").html('Economic Casualties');
                        }

                        else if(response['transaction'][0]['delineate']>= 1001 && response['transaction'][0]['delineate']<= 1006)
                        {
                            $("#delineate1").html("The 'Burbs");
                            $("#delineate2").html("The 'Burbs");
                        }


                        check_flag=1;
                    }



                    if(response['transaction'][0]['AIQ_Green']=='' || response['transaction'][0]['AIQ_Green']==null )
                    {
                        $("#glm1").hide();
                        $("#glm2").hide();
                    }

                    else{

                        $("#glm1").show();
                        $("#glm2").show();


                        if (response['transaction'][0]['AIQ_Green']<= 25)
                        {
                            $("#green_living_model1").html('Hardly');
                            $("#green_living_model2").html('Hardly');
                        }
                        else if(response['transaction'][0]['AIQ_Green']<= 50)
                        {
                            $("#green_living_model1").html('Not very');
                            $("#green_living_model2").html('Not very');
                        }
                        else if(response['transaction'][0]['AIQ_Green']<= 75)
                        {
                            $("#green_living_model1").html('Somewhat');
                            $("#green_living_model2").html('Somewhat');
                        }
                        else
                        {
                            $("#green_living_model1").html('Very');
                            $("#green_living_model2").html('Very');
                        }

                        check_flag=1;
                    }


                    if(response['transaction'][0]['Homeowner_pct_z4']=='' || response['transaction'][0]['Homeowner_pct_z4']==null )
                    {
                        $("#hp1").hide();
                        $("#hp2").hide();
                    }

                    else{

                        $("#hp1").show();
                        $("#hp2").show();
                        $("#homeowner_penetration1").html(response['transaction'][0]['Homeowner_pct_z4']+'%');
                        $("#homeowner_penetration1").html(response['transaction'][0]['Homeowner_pct_z4']+'%');
                        check_flag=1;
                    }



                    if(response['transaction'][0]['Age_z4']=='' || response['transaction'][0]['Age_z4']==null )
                    {
                        $("#hoha1").hide();
                        $("#hoha2").hide();
                    }

                    else{

                        $("#hoha1").show();
                        $("#hoha2").show();
                        $("#head_of_household_age1").html(response['transaction'][0]['Age_z4']+' years');
                        $("#head_of_household_age2").html(response['transaction'][0]['Age_z4']+' years');
                        check_flag=1;
                    }






                    if (check_flag==1)
                    {
                        $("#check_area_profile1").show();
                        $("#check_area_profile2").show();
                        check_flag=0;
                    }
                    else
                    {
                        $("#check_area_profile1").hide();
                        $("#check_area_profile2").hide();
                    }


                }


                if (response['zipeverythingelse'].length > 0) {
                    check_flag=1;

                    $("#solar_homes1").html(response['zipeverythingelse'][0]['no_of_solar_homes']);
                    $("#3rd_party1").html(response['zipeverythingelse'][0]['3rd_party_owned_system']+'%');
                    $("#average_system1").html(parseFloat(response['zipeverythingelse'][0]['average_system_size']).toFixed(2)+'kW');

                    $("#solar_homes2").html(response['zipeverythingelse'][0]['no_of_solar_homes']);
                    $("#3rd_party2").html(response['zipeverythingelse'][0]['3rd_party_owned_system']+'%');
                    $("#average_system2").html(parseFloat(response['zipeverythingelse'][0]['average_system_size']).toFixed(2)+'kW');
                }

                if (response['topinstaller'].length > 0) {
                    check_flag=1;
                    for ( i = 0; i < response['topinstaller'].length; i++) {

                        $("#installer1" + i).html((i+1)+'. '+response['topinstaller'][i]['installers']);
                        $("#installer2" + i).html((i+1)+'. '+response['topinstaller'][i]['installers']);

                    }
                }

                else {
                    for ( i = 0; i < 5; i++) {

                        $("#installer1" + i).html("");
                        $("#installer2" + i).html("");

                    }

                    $("#solar_homes1").html('');
                    $("#3rd_party1").html('');
                    $("#average_system1").html('');

                    $("#solar_homes2").html('');
                    $("#3rd_party2").html('');
                    $("#average_system2").html('');
                }

                if (response['toppanelbrands'].length > 0) {

                    check_flag=1;
                    for ( i = 0; i < response['toppanelbrands'].length; i++) {

                        $("#panel1" + i).html((i+1)+'. '+response['toppanelbrands'][i]['panel_brands']);
                        $("#panel2" + i).html((i+1)+'. '+response['toppanelbrands'][i]['panel_brands']);

                    }
                }

                else {
                    for ( i = 0; i < 3; i++) {

                        $("#panel1" + i).html("");
                        $("#panel2" + i).html("");

                    }

                    $("#solar_homes1").html('');
                    $("#3rd_party1").html('');
                    $("#average_system1").html('');

                    $("#solar_homes2").html('');
                    $("#3rd_party2").html('');
                    $("#average_system2").html('');
                }

                if (response['topinverterbrands'].length > 0) {

                    check_flag=1;
                    for ( i = 0; i < response['topinverterbrands'].length; i++) {

                        $("#inverter1" + i).html((i+1)+'. '+response['topinverterbrands'][i]['inverter_brands']);
                        $("#inverter2" + i).html((i+1)+'. '+response['topinverterbrands'][i]['inverter_brands']);

                    }
                }
                else {
                    for ( i = 0; i < 3; i++) {

                        $("#inverter1" + i).html("");
                        $("#inverter2" + i).html("");

                    }

                    $("#solar_homes1").html('');
                    $("#3rd_party1").html('');
                    $("#average_system1").html('');

                    $("#solar_homes2").html('');
                    $("#3rd_party2").html('');
                    $("#average_system2").html('');
                }

                if (check_flag==1)
                {
                    $("#check_solar_adoption1").show();
                    $("#check_solar_adoption2").show();
                    check_flag=0;
                }
                else
                {
                    $("#check_solar_adoption1").hide();
                    $("#check_solar_adoption2").hide();
                }

            }
        });

    }

    var imageUrl = 'http://beta.prospectzen.com/assets/red_circle.png';
    var markerImage = new google.maps.MarkerImage(imageUrl);

 
    function call(x,input) {
        marker[x] = new google.maps.Marker({
            position: new google.maps.LatLng(lat[x], lng[x]),
            map: map,
            icon: markerImage
        });
        var position2 = new google.maps.LatLng(lat[x], lng[x]);
          position3=position2;
          google.maps.event.addListener(marker[x], 'click', function() {
            input1 = input.split(",");
            var secondline=''
            for(i=1; i< (input1.length-1); i++)
            {
                secondline=secondline+input1[i]+' ';
            }
            $("#panel_search_result").html(input1[0]+'<br>'+secondline);

            infoBubble.setContent('<div id="puchased_marker" style="color:#fff;font-family:latoreg;font-size:18px;line-height:20px;width: auto;display: table;margin: 0 auto;padding: 19px;"> <center style="text-align:left;">'+input1[0]+'<br>'+secondline+'</center></div>');
            infoBubble.open(map, marker[x]);
            setValue(transaction[x]);
            position3=position2;
            event.preventDefault();
            if (flag_to_set_marker_center==1)
            {
                     setTimeout(function() { map.panToWithOffset(position2, -parseInt($('#panel_container').width()/2), 0); }, 500);
            }
        });


        google.maps.event.addListener(map, "click", function () {
            infoBubble.close();
        });

    }



    function others() {
        //	input1 = formatted_address.split(",");
        addresses =<%= raw @address %>
                transaction =<%= raw @transaction %>
                        lat = <%= raw @lat %>
                                lng = <%= raw @long %>
                                        length2 = addresses.length;
        for (var x = 0; x < addresses.length; x++) {

            call(x,addresses[x]);

        }

        if (addresses.length >0)

        {

            <% if session[:last_viewed_address] %>
            camerapositionfirsttym('<%= session[:last_viewed_address] %>');
            <% end %>

        }

    }


    function initialize() {
        autocomplete = new google.maps.places.Autocomplete(/** @type {HTMLInputElement} */(document.getElementById('loc_search')), {
            types : ['geocode']
        });


        var mapOptions = {
            center: new google.maps.LatLng(37.6,-95.665),
            zoom: 5,
            maxZoom: 21,
            minZoom: 5,
            mapTypeId: google.maps.MapTypeId.SATELLITE,
            mapTypeControl: true,
            mapTypeControlOptions: {
                style: google.maps.MapTypeControlStyle.HORIZONTAL_BAR,
                position: google.maps.ControlPosition.TOP_RIGHT
            },
            panControl: true,
            panControlOptions: {
                position: google.maps.ControlPosition.RIGHT_BOTTOM
            },
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.LARGE,
                position: google.maps.ControlPosition.RIGHT_BOTTOM
            },
            scaleControl: true,
            streetViewControl: true,
            streetViewControlOptions: {
                position: google.maps.ControlPosition.RIGHT_BOTTOM
            }

        };
        geocoder = new google.maps.Geocoder();
        map = new google.maps.Map(document.getElementById('map-canvas'),mapOptions);

//        google.maps.event.addListener(map, 'click', function(event) {
//            componentForm1 = {
//                street_number: '',
//                route: '',
//                locality: '',
//                country: '',
//                postal_code: '',
//                administrative_area_level_1: '',
//                administrative_area_level_2: ''
//            };
//
//            var latlng = event.latLng;
//
//            codeLatLng(latlng);
//
//
//        });



        others();

    }


    function checkaddress(response) {

        var latlong = response.results[0]["geometry"]["location"];

        latitude = latlong.lat;
        longitude = latlong.lng;

        var length = response["results"][0]["address_components"].length;

        formatted_address=response["results"][0]["formatted_address"];
        $('#loc_search').val(formatted_address);

        for (var i = 0; i < length; i++) {
            var addressType1 = response["results"][0]["address_components"][i]["types"][0];
            if (componentForm[addressType1]) {

                if (addressType1 == 'country') {
                    componentForm1['country'] = response["results"][0]["address_components"][i]["short_name"];

                }
                if (addressType1 == 'street_number') {
                    componentForm1['street_number'] = response["results"][0]["address_components"][i]["short_name"];

                }
                if (addressType1 == 'administrative_area_level_1') {
                    componentForm1['administrative_area_level_1'] = response["results"][0]["address_components"][i]["short_name"];

                }
                if (addressType1 == 'administrative_area_level_2') {
                    componentForm1['administrative_area_level_2'] = response["results"][0]["address_components"][i]["short_name"];

                }
                if (addressType1 == 'route') {
                    componentForm1['route'] = response["results"][0]["address_components"][i]["short_name"];

                }
                if (addressType1 == 'locality') {
                    componentForm1['locality'] = response["results"][0]["address_components"][i]["long_name"];
                    citycode = response["results"][0]["address_components"][i]["long_name"];
                }
                if (addressType1 == 'postal_code') {
                    componentForm1['postal_code'] = response["results"][0]["address_components"][i]["short_name"];
                    zipcode = response["results"][0]["address_components"][i]["short_name"];
                }
            }
        }

        if (componentForm1['postal_code'] != '' && componentForm1['country'] != '' && componentForm1['locality'] != '' && componentForm1['street_number'] != '' && componentForm1['route'] != '' && componentForm1['administrative_area_level_2'] != '' && componentForm1['administrative_area_level_1'] != '')
        {

            flag = 1;
            $('#search_error').css("visibility","hidden");
//							$("#search_error").html("No error");
            $('#loc_search').css("outline","0px");

            $("#prev_chk").hide();
            $("#check_show_money1").hide();
            $("#check_show_money2").hide();

            $("#check_electricity1").hide();
            $("#check_electricity2").hide();

            $("#check_ease_of_installation1").hide();
            $("#check_ease_of_installation2").hide();

            $("#check_need_to_know1").hide();
            $("#check_need_to_know2").hide();

            $("#check_area_profile1").hide();
            $("#check_area_profile2").hide();


            $("#check_solar_adoption1").hide();
            $("#check_solar_adoption2").hide();



            $.ajax({
                url : "/homes/addresspresentcheck",
                type : "POST",
                dataType : 'JSON',

                data : {
                    'address' :	formatted_address
                },

                success : function(response1) {

                    if (response1['data']==0)
                    {
                        input1=formatted_address;
                        input1 = input1.split(",");
                        input1.pop();

                        $("#address_display_on_popup").html(input1.toString()+" ?");
                        $("#myModal").modal();
                    }

                    else
                    {

                        camerapositionpurchase(latitude,longitude,formatted_address);

                    }

                }
            });


        } else {
            flag = 0;
            $("#search_error").css("visibility","visible");
            $("#search_error").html('That is not a valid street address.');
            $('#loc_search').css("outline","3px solid red");
        }
    }

    google.maps.event.addDomListener(window, 'load', initialize);
</script>


<script>
    $(document).ready(function(){

        //        content table starts  
        $('body').css("overflowY","hidden");

//        content table ends  

        $(".tool_tips").tooltip({
                    placement : 'top'
                }
        );

        $('#panel_container_sidebar').on('click', '.glyphicon-chevron-left', function() {
            
            flag_to_set_marker_center=0;
            
            var panel_width=$('#panel_container').width()-24;
            $("#panel_container").animate({
                'margin-left' : -panel_width
            }, 'slow');
            $("#panel_container").find("#side").removeClass("glyphicon glyphicon-chevron-left");
            $("#panel_container").find("#side").addClass("glyphicon glyphicon-chevron-right");

            $('#ascrail2000').hide();
             
            setTimeout(function() { map.panToWithOffset(position3, 0, 0); }, 500);


        });
        $('#panel_container_sidebar').on('click', '.glyphicon-chevron-right', function() {

//				var side_class=$('#side').attr('class');
//                if(side_class=="glyphicon glyphicon-chevron-right"){
//                
//                }
            flag_to_set_marker_center=1;
            $("#panel_container").animate({
                'margin-left' : "0px"
            }, 'slow');
            $("#panel_container").find("#side").removeClass("glyphicon glyphicon-chevron-right");
            $("#panel_container").find("#side").addClass("glyphicon glyphicon-chevron-left");
            $('#ascrail2000').show();
            setTimeout(function() { map.panToWithOffset(position3, -parseInt($('#panel_container').width()/2), 0); }, 500);
        });

        var win_width=$(window).width();
        if(win_width>942){

            fun4();
            fun1();
            cal_height1();
        }

        else if(win_width<=942 && win_width>=768 ){

            fun4();
            fun2();
            cal_height2();
        }


        else if(win_width<=767){

            fun3();
            cal_height3();
        }

    });

    $(window).resize(function(){


        $("#map-canvas").css("height", $(window).height());
        var win_width=$(window).width();
        if(win_width>942){

            fun4();
            fun1();
            cal_height1();
        }

        else if(win_width<=942 && win_width>=768 ){

            fun4();
            fun2();
            cal_height2();
        }

        else if(win_width<=767){

            fun3();
            cal_height2();

        }



    });


    function cal_height1(){

        var win_height=$(window).height();
        var nav_height=$('#bgnav').innerHeight();
        var srch_height=$('#panel_search_result').innerHeight();
        var menu_tab_height=$('#panel_menu').innerHeight();
        var total_fixed=win_height-(nav_height+srch_height+menu_tab_height);
        $("#map-canvas").css("height", $(window).height()-nav_height);
        //alert(win_height);
        console.log(win_height,nav_height,srch_height,menu_tab_height);
        $('#panel_container').css({"margin-top":nav_height});
        $('#abc').css({"margin-top":nav_height});
        $('#panel_table_content').css({"height":total_fixed,"overflowY":"hidden"});
        $("#panel_table_content").niceScroll({
            styler : "fb",
            cursorcolor : "#5cb85c",
            cursorwidth : '6',
            cursorborderradius : '10px',
            background : '#404040',
            spacebarenabled : false,
            cursorborder : '',
            zindex : '1000'
        });


    }

    function cal_height2(){

        //alert("fsdfas");
        var win_height=$(window).height();
        var nav_height=$('#bgnav').innerHeight();
        var srch_height=$('#panel_search_result').innerHeight();
        var menu_tab_height=$('#panel_menu').innerHeight();
        var abs_google_srch=$('#loc_search').innerHeight();
        var error_message_height=$('#search_error').innerHeight();
        var total_fixed=win_height-(nav_height+srch_height+menu_tab_height+abs_google_srch+error_message_height);
        $("#map-canvas").css("height", $(window).height()-(nav_height+abs_google_srch+error_message_height));

        $('#panel_container').css("margin-top",nav_height+abs_google_srch+error_message_height);

        $('#abc').css("margin-top",nav_height+abs_google_srch+error_message_height);
        $('#panel_table_content').css({"height":total_fixed,"overflowY":"hidden"});
        $("#panel_table_content").niceScroll({
            styler : "fb",
            cursorcolor : "#5cb85c",
            cursorwidth : '6',
            cursorborderradius : '10px',
            background : '#404040',
            spacebarenabled : false,
            cursorborder : '',
            zindex : '1000'
        });

    }

    function cal_height3(){

        //alert("fsdfas");
        var win_height=$(window).height();
        var nav_height=$('#bgnav').innerHeight();
        var srch_height=$('#panel_search_result').innerHeight();
        var menu_tab_height=$('#panel_menu').innerHeight();
        var abs_google_srch=$('#loc_search').innerHeight();
        var error_message_height=$('#search_error').innerHeight();
        var total_fixed=win_height-(nav_height+srch_height+menu_tab_height+abs_google_srch+error_message_height);

        $("#map-canvas").css("height", $(window).height()-(nav_height+abs_google_srch+error_message_height));

//            alert("navi"+nav_height);
//            alert("search"+srch_height);
//            alert("menu_tab"+menu_tab_height);
//            alert("googlesearch"+abs_google_srch);
//            alert("err_msg"+error_message_height);

        //console.log(win_height,nav_height,srch_height,menu_tab_height,abs_google_srch,error_message_height);
        $('#panel_container').css("margin-top",nav_height+abs_google_srch+error_message_height+5);
        $('#abc').css("margin-top",nav_height+abs_google_srch+error_message_height+5);
        $('#panel_table_content').css({"height":total_fixed,"overflowY":"scroll"});
        $("#panel_table_content").niceScroll({
            styler : "fb",
            cursorcolor : "#5cb85c",
            cursorwidth : '6',
            cursorborderradius : '10px',
            background : '#404040',
            spacebarenabled : false,
            cursorborder : '',
            zindex : '1000'
        });

    }


    function fun1(){
        $('#search_bar').css("position","relative");
        $('#loc_search').css("border","0px");
        $('#search_bar').css("margin-top","0px");
        $('#loc_search').removeAttr('style');
        $('#nav_search').removeAttr('style');
        $('#bgnav').removeAttr('style');

    }

    function fun2(){
        var win_width= parseInt($(window).width(),10);

        var center_width=(win_width*92)/100;
        var nav_height=$('.container').height();
        $('#search_bar').css("position","absolute");
        $('#loc_search').css("border","1px solid #bdc3c7");
        $('#search_bar').css("border","0px");
        $('#search_bar').css("margin-top","69px");
        $('#loc_search').css("width",center_width);
        $('#nav_search').css("width","50px");
        $('#bgnav').removeAttr('style');


    }

    function fun3(){


        $('#pull_right').addClass('respons');
        var win_width= parseInt($(window).width(),10);

        var center_width=(win_width*92)/100;
        var nav_height=$('.container').height();
        $('#search_bar').css("position","absolute");
        $('#loc_search').css("border","1px solid #bdc3c7");
        $('#search_bar').css("margin-top","69px");
        $('#loc_search').css("width",center_width);
        $('#nav_search').css("width","50px");
        $('#search_bar').css("margin-top","61px");
        $('#bgnav').css("padding","13px 0px 10px 0px");
    }


    function fun4(){

        $('#pull_right').removeClass('respons');
    }

</script>
</body>
</html>